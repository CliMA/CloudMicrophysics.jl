<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · CloudMicrophysics.jl</title><meta name="title" content="API · CloudMicrophysics.jl"/><meta property="og:title" content="API · CloudMicrophysics.jl"/><meta property="twitter:title" content="API · CloudMicrophysics.jl"/><meta name="description" content="Documentation for CloudMicrophysics.jl."/><meta property="og:description" content="Documentation for CloudMicrophysics.jl."/><meta property="twitter:description" content="Documentation for CloudMicrophysics.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="CloudMicrophysics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">CloudMicrophysics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Parameterizations</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../Microphysics0M/">0-moment precipitation microphysics</a></li><li><a class="tocitem" href="../Microphysics1M/">1-moment precipitation microphysics</a></li><li><a class="tocitem" href="../Microphysics2M/">2-moment precipitation microphysics</a></li><li><a class="tocitem" href="../P3Scheme/">P3 Scheme</a></li><li><a class="tocitem" href="../TerminalVelocity/">Terminal Velocity</a></li><li><a class="tocitem" href="../MicrophysicsNonEq/">Non-equilibrium cloud formation</a></li><li><a class="tocitem" href="../ThresholdsTransition/">Smooth transition at thresholds</a></li><li><a class="tocitem" href="../AerosolActivation/">Aerosol activation</a></li><li><a class="tocitem" href="../WaterActivity/">Water Activity</a></li><li><a class="tocitem" href="../IceNucleation/">Ice Nucleation</a></li><li><a class="tocitem" href="../AerosolNucleation/">Aerosol Nucleation</a></li><li><a class="tocitem" href="../CloudDiagnostics/">Cloud diagnostics</a></li><li><a class="tocitem" href="../PrecipitationSusceptibility/">Precipitation Susceptibility</a></li></ul></li><li><a class="tocitem" href="../Thermodynamics/">Thermodynamics interface</a></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">How to guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../guides/literated/GettingStarted/">Getting started</a></li><li><a class="tocitem" href="../guides/literated/Parameters/">Handling parameters</a></li><li><a class="tocitem" href="../guides/literated/SimpleModel/">Building a model</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Models</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../IceNucleationParcel0D/">Adiabatic parcel model</a></li><li><a class="tocitem" href="../IceNucleationBox0D/">Box Model</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Non-equilibrium-cloud-formation"><span>Non-equilibrium cloud formation</span></a></li><li class="toplevel"><a class="tocitem" href="#0-moment-precipitation-microphysics"><span>0-moment precipitation microphysics</span></a></li><li class="toplevel"><a class="tocitem" href="#1-moment-precipitation-microphysics"><span>1-moment precipitation microphysics</span></a></li><li class="toplevel"><a class="tocitem" href="#2-moment-precipitation-microphysics"><span>2-moment precipitation microphysics</span></a></li><li><a class="tocitem" href="#Size-distributions"><span>Size distributions</span></a></li><li><a class="tocitem" href="#Rates"><span>Rates</span></a></li><li><a class="tocitem" href="#Distribution-tools-for-2-moment-microphysics"><span>Distribution tools for 2-moment microphysics</span></a></li><li class="toplevel"><a class="tocitem" href="#P3-scheme"><span>P3 scheme</span></a></li><li><a class="tocitem" href="#Construct-parameterization-set"><span>Construct parameterization set</span></a></li><li><a class="tocitem" href="#Obtain-particle-state"><span>Obtain particle state</span></a></li><li><a class="tocitem" href="#Distribution-parameters"><span>Distribution parameters</span></a></li><li class="toplevel"><a class="tocitem" href="#Aerosol-model"><span>Aerosol model</span></a></li><li class="toplevel"><a class="tocitem" href="#Aerosol-activation"><span>Aerosol activation</span></a></li><li class="toplevel"><a class="tocitem" href="#Artifact-calling"><span>Artifact calling</span></a></li><li class="toplevel"><a class="tocitem" href="#Heterogeneous-ice-nucleation-2"><span>Heterogeneous ice nucleation</span></a></li><li class="toplevel"><a class="tocitem" href="#Homogeneous-ice-nucleation"><span>Homogeneous ice nucleation</span></a></li><li class="toplevel"><a class="tocitem" href="#Cloud-diagnostics"><span>Cloud diagnostics</span></a></li><li class="toplevel"><a class="tocitem" href="#Common-utility-functions"><span>Common utility functions</span></a></li><li class="toplevel"><a class="tocitem" href="#Parameters-2"><span>Parameters</span></a></li><li class="toplevel"><a class="tocitem" href="#Precipitation-susceptibility"><span>Precipitation susceptibility</span></a></li></ul></li><li><a class="tocitem" href="../DevelopersGuide/">Developer&#39;s Guide</a></li><li><a class="tocitem" href="../Glossary/">Glossary</a></li><li><a class="tocitem" href="../References/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/CliMA/CloudMicrophysics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/main/docs/src/API.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="."><a class="docs-heading-anchor" href="#.">.</a><a id=".-1"></a><a class="docs-heading-anchor-permalink" href="#." title="Permalink"></a></h1><h1 id="Non-equilibrium-cloud-formation"><a class="docs-heading-anchor" href="#Non-equilibrium-cloud-formation">Non-equilibrium cloud formation</a><a id="Non-equilibrium-cloud-formation-1"></a><a class="docs-heading-anchor-permalink" href="#Non-equilibrium-cloud-formation" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.MicrophysicsNonEq"><a class="docstring-binding" href="#CloudMicrophysics.MicrophysicsNonEq"><code>CloudMicrophysics.MicrophysicsNonEq</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Non-equilibrium bulk microphysics scheme for cloud condensate formation.</p><p>Implements relaxation-to-equilibrium approach for:</p><ul><li>Condensation and evaporation of cloud liquid water</li><li>Deposition and sublimation of cloud ice</li></ul><p>See also: <code>Microphysics1M</code> for precipitating hydrometeor processes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/MicrophysicsNonEq.jl#L1-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.MicrophysicsNonEq.τ_relax"><a class="docstring-binding" href="#CloudMicrophysics.MicrophysicsNonEq.τ_relax"><code>CloudMicrophysics.MicrophysicsNonEq.τ_relax</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">τ_relax(liquid::CloudLiquid)
τ_relax(ice::CloudIce)</code></pre><p>Returns the relaxation timescale for phase change processes.</p><p><strong>Arguments</strong></p><ul><li><code>liquid::CloudLiquid</code> or <code>ice::CloudIce</code> - cloud condensate parameters struct</li></ul><p><strong>Returns</strong></p><ul><li>Relaxation timescale [s] for condensation/evaporation (liquid) or deposition/sublimation (ice)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/MicrophysicsNonEq.jl#L20-L32">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.MicrophysicsNonEq.conv_q_vap_to_q_lcl_icl"><a class="docstring-binding" href="#CloudMicrophysics.MicrophysicsNonEq.conv_q_vap_to_q_lcl_icl"><code>CloudMicrophysics.MicrophysicsNonEq.conv_q_vap_to_q_lcl_icl</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conv_q_vap_to_q_lcl_icl(params::CloudLiquid, q_sat_liq, q_lcl)
conv_q_vap_to_q_lcl_icl(params::CloudIce, q_sat_ice, q_icl)</code></pre><p>Computes the tendency of cloud condensate specific content using a simple relaxation-to-equilibrium formulation with a constant timescale.</p><p><strong>Arguments</strong></p><ul><li><code>params</code> - cloud liquid or ice parameters struct containing <code>τ_relax</code></li><li><code>q_sat_liq</code> or <code>q_sat_ice</code> - saturation specific humidity [kg/kg]</li><li><code>q_lcl</code> or <code>q_icl</code> - cloud liquid water or ice specific content [kg/kg]</li></ul><p><strong>Returns</strong></p><ul><li>Cloud condensate tendency in kg/kg/s, positive for condensation/deposition, negative for evaporation/sublimation</li></ul><p>The tendency is computed as:</p><p class="math-container">\[\frac{dq}{dt} = \frac{q_{sat} - q}{\tau_{relax}}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/MicrophysicsNonEq.jl#L36-L56">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.MicrophysicsNonEq.conv_q_vap_to_q_lcl_icl_MM2015"><a class="docstring-binding" href="#CloudMicrophysics.MicrophysicsNonEq.conv_q_vap_to_q_lcl_icl_MM2015"><code>CloudMicrophysics.MicrophysicsNonEq.conv_q_vap_to_q_lcl_icl_MM2015</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conv_q_vap_to_q_lcl_icl_MM2015(params, tps, q_tot, q_lcl, q_icl, q_rai, q_sno, ρ, T)</code></pre><p>Computes cloud condensate tendency using the formulation from Morrison &amp; Grabowski (2008), https://doi.org/10.1175/2007JAS2374.1, and Morrison &amp; Milbrandt (2015), https://doi.org/10.1175/JAS-D-14-0065.1.</p><p>This formulation includes a thermodynamic adjustment factor Γ that accounts for latent heat release modifying the saturation state.</p><p><strong>Arguments</strong></p><ul><li><code>params</code> - cloud liquid or ice parameters struct containing <code>τ_relax</code></li><li><code>tps</code> - thermodynamics parameters struct</li><li><code>q_tot</code> - total water specific content [kg/kg]</li><li><code>q_lcl</code> - cloud liquid water specific content [kg/kg]</li><li><code>q_icl</code> - cloud ice specific content [kg/kg]</li><li><code>q_rai</code> - rain specific content [kg/kg]</li><li><code>q_sno</code> - snow specific content [kg/kg]</li><li><code>ρ</code> - air density [kg/m³]</li><li><code>T</code> - air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>Cloud condensate tendency [kg/kg/s]</li></ul><p><strong>Notes</strong></p><p>This function does NOT apply limiters for small or negative specific humidities. Users should apply appropriate bounds checking when integrating in a model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/MicrophysicsNonEq.jl#L65-L92">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.MicrophysicsNonEq.terminal_velocity"><a class="docstring-binding" href="#CloudMicrophysics.MicrophysicsNonEq.terminal_velocity"><code>CloudMicrophysics.MicrophysicsNonEq.terminal_velocity</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">terminal_velocity(sediment::CloudLiquid, vel::StokesRegimeVelType, ρₐ, q)
terminal_velocity(sediment::CloudIce, vel::Chen2022VelTypeSmallIce, ρₐ, q)</code></pre><p>Computes mass-weighted average terminal velocity for cloud droplets or ice crystals assuming a monodisperse size distribution.</p><ul><li><strong>Cloud Liquid</strong>: Uses Stokes Law (v ∝ D²), valid for small droplets (Re &lt; 1).</li><li><strong>Cloud Ice</strong>: Uses Chen et al. (2022) parameterization, <a href="https://doi.org/10.1016/j.atmosres.2022.106171">DOI: 10.1016/j.atmosres.2022.106171</a></li></ul><p><strong>Arguments</strong></p><ul><li><code>sediment</code> - cloud liquid or ice parameters struct (provides density and N_0)</li><li><code>vel</code> - velocity parameters (StokesRegimeVelType for liquid, Chen2022VelTypeSmallIce for ice)</li><li><code>ρₐ</code> - air density [kg/m³]</li><li><code>q</code> - cloud liquid water or ice specific content [kg/kg]</li></ul><p><strong>Returns</strong></p><ul><li>Mass-weighted terminal velocity [m/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/MicrophysicsNonEq.jl#L145-L164">source</a></section></details></article><h1 id="0-moment-precipitation-microphysics"><a class="docs-heading-anchor" href="#0-moment-precipitation-microphysics">0-moment precipitation microphysics</a><a id="0-moment-precipitation-microphysics-1"></a><a class="docs-heading-anchor-permalink" href="#0-moment-precipitation-microphysics" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics0M"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics0M"><code>CloudMicrophysics.Microphysics0M</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Microphysics0M</code></pre><p>Zero-moment bulk microphysics scheme that removes cloud condensate  above a threshold, equivalent to instantaneous conversion to precipitation  with infinite terminal velocity.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics0M.jl#L1-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics0M.remove_precipitation"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics0M.remove_precipitation"><code>CloudMicrophysics.Microphysics0M.remove_precipitation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">remove_precipitation(params_0M::Parameters0M, q_lcl, q_icl)
remove_precipitation(params_0M::Parameters0M, q_lcl, q_icl, q_vap_sat)</code></pre><p>Compute the total water tendency due to precipitation removal.</p><p>The tendency assumes relaxation with constant timescale to a state  with condensate above a threshold removed. The threshold is defined  by either fixed condensate specific humidity (<code>qc_0</code>) or fixed  supersaturation (<code>S_0</code>), along with the relaxation timescale,  specified in the <code>Parameters0M</code> struct.</p><p><strong>Arguments</strong></p><ul><li><code>params_0M</code>: 0-moment microphysics parameters (contains <code>τ_precip</code> and either <code>qc_0</code> or <code>S_0</code>)</li><li><code>q_lcl</code>: cloud liquid water specific humidity (kg/kg)</li><li><code>q_icl</code>: cloud ice specific humidity (kg/kg)</li><li><code>q_vap_sat</code>: (second method only) saturation specific humidity (kg/kg)</li></ul><p><strong>Returns</strong></p><ul><li>Total water (<code>q_tot</code>) tendency (kg/kg/s)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics0M.jl#L18-L38">source</a></section></details></article><h1 id="1-moment-precipitation-microphysics"><a class="docs-heading-anchor" href="#1-moment-precipitation-microphysics">1-moment precipitation microphysics</a><a id="1-moment-precipitation-microphysics-1"></a><a class="docs-heading-anchor-permalink" href="#1-moment-precipitation-microphysics" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M"><code>CloudMicrophysics.Microphysics1M</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Microphysics1M</code></pre><p>One-moment bulk microphysics scheme, which includes:</p><ul><li>terminal velocity of precipitation</li><li>autoconversion of cloud liquid water into rain and of cloud ice into snow</li><li>accretion due to collisions between categories of condensed species</li><li>evaporation and sublimation of hydrometeors</li><li>melting of snow into rain</li></ul><p><strong>Mathematical Approach</strong></p><p>Particle size distributions are assumed to follow the Marshall-Palmer exponential distribution. Microphysical process rates are derived by integrating particle-scale physics (terminal velocities, collision kernels, mass transfer) over these assumed distributions.</p><p>Based on:</p><ul><li>Kessler (1995) - https://doi.org/10.1016/0169-8095(94)00090-Z</li><li>Grabowski (1998) - https://doi.org/10.1175/1520-0469(1998)055&lt;3283:TCRMOL&gt;2.0.CO;2</li><li>Kaul et al. (2015) - https://doi.org/10.1175/MWR-D-14-00319.1</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L1-L22">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.get_v0"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.get_v0"><code>CloudMicrophysics.Microphysics1M.get_v0</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_v0(vel::Blk1MVelTypeRain, ρ)
get_v0(vel::Blk1MVelTypeSnow, args...)</code></pre><p>Returns the proportionality coefficient in terminal velocity(r/r0).</p><p><strong>Arguments</strong></p><ul><li><code>vel</code>: terminal velocity parameters (contains <code>C_drag</code>, <code>ρw</code>, <code>grav</code>, <code>r0</code>, <code>gamma_term</code> for rain; <code>v0</code>, <code>gamma_term</code> for snow)</li><li><code>ρ</code>: air density (rain only)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L82-L91">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.get_n0"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.get_n0"><code>CloudMicrophysics.Microphysics1M.get_n0</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_n0(pdf::ParticlePDFSnow, q_sno, ρ)
get_n0(pdf::ParticlePDFIceRain, args...)</code></pre><p>Returns the intercept parameter of the assumed Marshall-Palmer distribution (Marshall and Palmer, 1948).</p><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: size distribution parameters (contains <code>ν</code>, <code>μ</code> for snow; <code>n0</code> for rain/ice)</li><li><code>q_sno</code>: snow specific content (snow only)</li><li><code>ρ</code>: air density (snow only)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L66-L77">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.lambda_inverse"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.lambda_inverse"><code>CloudMicrophysics.Microphysics1M.lambda_inverse</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">lambda_inverse(pdf, mass::ParticleMass, q, ρ)</code></pre><p>Returns the inverse of the rate parameter (λ⁻¹) of the assumed Marshall-Palmer size distribution of particles (rain drops, ice crystals, snow crystals).</p><p>The rate parameter λ is related to the mean particle size: larger λ means smaller average particles. The value is clipped at <code>r0 * 1e-5</code> to prevent numerical issues.</p><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: size distribution parameters (ParticlePDFIceRain or ParticlePDFSnow)</li><li><code>mass</code>: mass(radius) parameters (contains <code>r0</code>, <code>m0</code>, <code>me</code>, <code>Δm</code>, <code>χm</code>, <code>gamma_coeff</code>)</li><li><code>q</code>: specific content of rain, cloud ice, or snow [kg/kg]</li><li><code>ρ</code>: air density [kg/m³]</li></ul><p><strong>Returns</strong></p><ul><li><code>λ⁻¹</code>: inverse rate parameter [m]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L96-L113">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.terminal_velocity"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.terminal_velocity"><code>CloudMicrophysics.Microphysics1M.terminal_velocity</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">terminal_velocity(precip::Rain, vel::Blk1MVelTypeRain, ρ, q)
terminal_velocity(precip::Snow, vel::Blk1MVelTypeSnow, ρ, q)
terminal_velocity(precip::Rain, vel::Chen2022VelTypeRain, ρ, q)
terminal_velocity(precip::Snow, vel::Chen2022VelTypeLargeIce, ρ, q)
terminal_velocity(precip::Snow, vel::Chen2022VelTypeLargeIce, ρ, q, snow_shape)</code></pre><p>Returns the mass-weighted average terminal velocity assuming a Marshall-Palmer distribution of particles (Ogura and Takahashi, 1971).</p><p>The mass-weighted average velocity is computed by integrating the product of particle mass, terminal velocity, and size distribution, then dividing by the total mass. This represents the sedimentation velocity of the bulk hydrometeor field.</p><p>Fall velocity of individual particles is parameterized:</p><ul><li>using empirical power-law relations for <code>Blk1MVelType</code></li><li>following Chen et al. (2022), https://doi.org/10.1016/j.atmosres.2022.106171, for <code>Chen2022VelType</code></li></ul><p><strong>Arguments</strong></p><ul><li><code>precip</code>: precipitation parameters (Rain or Snow, contains <code>pdf</code>, <code>mass</code>, and for snow: <code>area</code>, <code>ρᵢ</code>, <code>aspr</code>)</li><li><code>vel</code>: terminal velocity parameterization parameters</li><li><code>ρ</code>: air density [kg/m³]</li><li><code>q</code>: rain or snow specific content [kg/kg]</li><li><code>snow_shape</code>: (optional) assumed snow shape (Oblate or Prolate)</li></ul><p><strong>Returns</strong></p><ul><li>Mass-weighted terminal velocity [m/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L176-L203">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.conv_q_lcl_to_q_rai"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.conv_q_lcl_to_q_rai"><code>CloudMicrophysics.Microphysics1M.conv_q_lcl_to_q_rai</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conv_q_lcl_to_q_rai(acnv::Acnv1M, q_lcl, smooth_transition)</code></pre><p>Returns the rain tendency due to collisions between cloud droplets (autoconversion), parameterized following Kessler (1995), https://doi.org/10.1016/0169-8095(94)00090-Z.</p><p>When <code>smooth_transition = false</code>, uses a step function at the threshold. When <code>smooth_transition = true</code>, uses a logistic function to smooth the transition over the threshold, avoiding discontinuities in the tendency.</p><p><strong>Arguments</strong></p><ul><li><code>acnv</code>: autoconversion parameters (contains <code>τ</code>, <code>q_threshold</code>, <code>k</code>)</li><li><code>q_lcl</code>: cloud liquid water specific content [kg/kg]</li><li><code>smooth_transition</code>: flag to switch on smoothing</li></ul><p><strong>Returns</strong></p><ul><li>Rain autoconversion rate [kg/kg/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L311-L328">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.conv_q_icl_to_q_sno_no_supersat"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.conv_q_icl_to_q_sno_no_supersat"><code>CloudMicrophysics.Microphysics1M.conv_q_icl_to_q_sno_no_supersat</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conv_q_icl_to_q_sno_no_supersat(acnv::Acnv1M, q_icl, smooth_transition)</code></pre><p>Returns the snow tendency due to autoconversion from cloud ice. This is a simplified version for use in simulations without supersaturation (e.g., with saturation adjustment).</p><p><strong>Arguments</strong></p><ul><li><code>acnv</code>: autoconversion parameters (contains <code>τ</code>, <code>q_threshold</code>, <code>k</code>)</li><li><code>q_icl</code>: cloud ice specific content</li><li><code>smooth_transition</code>: flag to switch on smoothing</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L338-L349">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.conv_q_icl_to_q_sno"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.conv_q_icl_to_q_sno"><code>CloudMicrophysics.Microphysics1M.conv_q_icl_to_q_sno</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conv_q_icl_to_q_sno(ice::CloudIce, aps, tps, q_tot, q_lcl, q_icl, q_rai, q_sno, ρ, T)</code></pre><p>Returns the snow tendency due to autoconversion from ice. Parameterized following:</p><ul><li>Harrington et al. (1995), https://doi.org/10.1175/1520-0469(1995)052&lt;4344:POICCP&gt;2.0.CO;2  </li><li>Kaul et al. (2015), https://doi.org/10.1175/MWR-D-14-00319.1</li></ul><p><strong>Arguments</strong></p><ul><li><code>ice</code>: ice parameters (contains <code>r_ice_snow</code>, <code>pdf</code>, <code>mass</code>)</li><li><code>aps</code>: air properties struct  </li><li><code>tps</code>: thermodynamics parameters struct</li><li><code>q_tot</code>: total water specific content</li><li><code>q_lcl</code>: cloud liquid water specific content</li><li><code>q_icl</code>: cloud ice specific content</li><li><code>q_rai</code>: rain specific content</li><li><code>q_sno</code>: snow specific content</li><li><code>ρ</code>: air density</li><li><code>T</code>: air temperature</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L359-L378">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.accretion"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.accretion"><code>CloudMicrophysics.Microphysics1M.accretion</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">accretion(cloud::CloudCondensateType, precip::PrecipitationType, vel, ce, q_clo, q_pre, ρ)</code></pre><p>Returns the source of precipitating water (rain or snow) due to collisions with cloud water (liquid or ice).</p><p><strong>Arguments</strong></p><ul><li><code>cloud</code>: type for cloud water or cloud ice</li><li><code>precip</code>: type for rain or snow</li><li><code>vel</code>: terminal velocity parameters (Blk1MVelTypeRain or Blk1MVelTypeSnow, contains <code>gamma_accr</code>)</li><li><code>ce</code>: collision efficiency parameters</li><li><code>q_clo</code>: cloud liquid water or cloud ice specific content</li><li><code>q_pre</code>: rain or snow specific content</li><li><code>ρ</code>: air density</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L408-L422">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.accretion_rain_sink"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.accretion_rain_sink"><code>CloudMicrophysics.Microphysics1M.accretion_rain_sink</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">accretion_rain_sink(rain::Rain, ice::CloudIce, vel::Blk1MVelTypeRain, ce, q_icl, q_rai, ρ)</code></pre><p>Returns the sink of rain water (partial source of snow) due to collisions with cloud ice.</p><p><strong>Arguments</strong></p><ul><li><code>rain</code>: rain type parameters</li><li><code>ice</code>: ice type parameters</li><li><code>vel</code>: terminal velocity parameters for rain</li><li><code>ce</code>: collision efficiency parameters</li><li><code>q_icl</code>: cloud ice specific content</li><li><code>q_rai</code>: rain water specific content</li><li><code>ρ</code>: air density</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L454-L468">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.accretion_snow_rain"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.accretion_snow_rain"><code>CloudMicrophysics.Microphysics1M.accretion_snow_rain</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">accretion_snow_rain(type_i::PrecipitationType, type_j::PrecipitationType, blk1mveltype_ti, blk1mveltype_tj, ce, q_i, q_j, ρ)</code></pre><p>Returns the accretion rate when rain and snow collide. Collisions result in snow for T &lt; T<em>freeze and rain for T &gt; T</em>freeze.</p><p>Uses geometric collision kernel assumption: a(r<em>i, r</em>j) = π(r<em>i + r</em>j)², with a velocity dispersion correction that assumes that fall velocity standard  deviations are proportional to the mean fall velocities, with coefficient <code>ce.coeff_disp</code>.</p><p><strong>Arguments</strong></p><ul><li><code>type_i</code>: snow (T &lt; T<em>freeze) or rain (T &gt; T</em>freeze)</li><li><code>type_j</code>: rain (T &lt; T<em>freeze) or snow (T &gt; T</em>freeze)  </li><li><code>blk1mveltype_ti</code>, <code>blk1mveltype_tj</code>: 1M terminal velocity parameters</li><li><code>ce</code>: collision efficiency parameters (contains <code>e_rai_sno</code>, <code>coeff_disp</code>)</li><li><code>q_i</code>, <code>q_j</code>: specific contents of snow or rain [kg/kg]</li><li><code>ρ</code>: air density [kg/m³]</li></ul><p><strong>Returns</strong></p><ul><li>Accretion rate [kg/kg/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L502-L523">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.evaporation_sublimation"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.evaporation_sublimation"><code>CloudMicrophysics.Microphysics1M.evaporation_sublimation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">evaporation_sublimation(rain::Rain, vel::Blk1MVelTypeRain, aps, tps, q_tot, q_lcl, q_icl, q_rai, q_sno, ρ, T)
evaporation_sublimation(snow::Snow, vel::Blk1MVelTypeSnow, aps, tps, q_tot, q_lcl, q_icl, q_rai, q_sno, ρ, T)</code></pre><p>Returns the tendency due to rain evaporation or snow sublimation/deposition. Ventilation factor parameterization follows Seifert and Beheng (2006), https://doi.org/10.1007/s00703-005-0112-4.</p><p><strong>Rain</strong>: Only evaporation is considered (S &lt; 0), result is clamped to be ≤ 0. <strong>Snow</strong>: Both sublimation (S &lt; 0) and deposition (S &gt; 0) are considered.</p><p><strong>Arguments</strong></p><ul><li><code>rain</code> or <code>snow</code>: particle parameters (contains <code>pdf</code>, <code>mass</code>, <code>vent</code>)</li><li><code>vel</code>: terminal velocity parameters (Blk1MVelTypeRain or Blk1MVelTypeSnow)</li><li><code>aps</code>: air properties struct</li><li><code>tps</code>: thermodynamics parameters struct</li><li><code>q_tot</code>: total water specific content [kg/kg]</li><li><code>q_lcl</code>: cloud liquid water specific content [kg/kg]</li><li><code>q_icl</code>: cloud ice specific content [kg/kg]</li><li><code>q_rai</code>: rain specific content [kg/kg]</li><li><code>q_sno</code>: snow specific content [kg/kg]</li><li><code>ρ</code>: air density [kg/m³]</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>Evaporation/sublimation/deposition rate [kg/kg/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L570-L596">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics1M.snow_melt"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics1M.snow_melt"><code>CloudMicrophysics.Microphysics1M.snow_melt</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">snow_melt(snow::Snow, vel::Blk1MVelTypeSnow, aps, tps, q_sno, ρ, T)</code></pre><p>Returns the tendency due to snow melt.</p><p><strong>Arguments</strong></p><ul><li><code>snow</code>: snow parameters (contains <code>T_freeze</code>, <code>pdf</code>, <code>mass</code>, <code>vent</code>)</li><li><code>vel</code>: terminal velocity parameters</li><li><code>aps</code>: air properties struct</li><li><code>tps</code>: thermodynamics parameters struct</li><li><code>q_sno</code>: snow water specific content</li><li><code>ρ</code>: air density</li><li><code>T</code>: air temperature</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics1M.jl#L690-L703">source</a></section></details></article><h1 id="2-moment-precipitation-microphysics"><a class="docs-heading-anchor" href="#2-moment-precipitation-microphysics">2-moment precipitation microphysics</a><a id="2-moment-precipitation-microphysics-1"></a><a class="docs-heading-anchor-permalink" href="#2-moment-precipitation-microphysics" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M"><code>CloudMicrophysics.Microphysics2M</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Double-moment bulk microphysics parametrizations including:</p><ul><li>autoconversion, accretion, self-collection, breakup, mean terminal velocity of raindrops,  and rain evaporation rates from Seifert and Beheng 2006.</li><li>number concentration adjustment from Horn 2012.</li><li>additional double-moment bulk microphysics autoconversion and accretion rates from: Khairoutdinov and Kogan 2000, Beheng 1994, Tripoli and Cotton 1980, and Liu and Daum 2004.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L1-L9">source</a></section></details></article><h2 id="Size-distributions"><a class="docs-heading-anchor" href="#Size-distributions">Size distributions</a><a id="Size-distributions-1"></a><a class="docs-heading-anchor-permalink" href="#Size-distributions" title="Permalink"></a></h2><h3 id="Parameters"><a class="docs-heading-anchor" href="#Parameters">Parameters</a><a id="Parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Parameters" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.pdf_cloud_parameters"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.pdf_cloud_parameters"><code>CloudMicrophysics.Microphysics2M.pdf_cloud_parameters</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">pdf_cloud_parameters(pdf_c, q, ρₐ, N)</code></pre><p>Return the parameters of the size distribution of cloud particles in terms of diameter.</p><p>The size distribution is given by:</p><pre><code class="nohighlight hljs">n(D) = N₀c * D^νcD * exp(-λc * D^μcD)</code></pre><p>where</p><ul><li><code>νcD = 3νc + 2</code></li><li><code>μcD = 3μc</code></li></ul><p><strong>Arguments</strong></p><ul><li><code>pdf_c</code>: Size distribution parameters for cloud droplets, <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>q</code>: Liquid mass content [kg/kg]</li><li><code>ρₐ</code>: Air density [kg/m³]</li><li><code>N</code>: Number concentration of the particle [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li><code>(logN₀c, λc, νcD, μcD)</code>: Parameters of the generalized gamma distribution in terms of diameter</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L185-L206">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.pdf_rain_parameters"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.pdf_rain_parameters"><code>CloudMicrophysics.Microphysics2M.pdf_rain_parameters</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">pdf_rain_parameters(pdf_r, qᵣ, ρₐ, Nᵣ)</code></pre><p>Return the parameters of the rain drop diameter distribution</p><pre><code class="nohighlight hljs">n_r(D) = N_0 * exp(- D / Dr_mean)</code></pre><p>where</p><ul><li><code>D</code> is the diameter of the raindrop,</li><li><code>N_0</code> [1/m³] is the number concentration of raindrops,</li><li><code>Dr_mean</code> [m] is the mean diameter of the raindrops.</li></ul><p>Note: in SB2006, Eq. (83) the distribution is given as:</p><pre><code class="nohighlight hljs">f(D) = N_0 * exp(- λ_r D)</code></pre><p>where <code>λ_r ≡ 1 / Dr_mean</code> [1/m] is the inverse of the mean diameter of the raindrops.</p><p><strong>Arguments</strong></p><ul><li><code>pdf_r</code>: struct containing size distribution parameters for rain.      Can either be <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006_notlimited"><code>CMP.RainParticlePDF_SB2006_notlimited</code></a> or <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006_limited"><code>CMP.RainParticlePDF_SB2006_limited</code></a>.      For the latter, the values for <code>N_0</code>, <code>Dr_mean</code>, and <code>xr_mean</code> are limited to be within provided ranges.</li><li><code>qᵣ</code>: mass of rain water [kg]</li><li><code>ρₐ</code>: air density [kg/m³]</li><li><code>Nᵣ</code>: number of rain drops [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li>A <code>NamedTuple</code> with the fields <code>(; N₀r, Dr_mean, xr_mean)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L37-L65">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.pdf_cloud_parameters_mass"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.pdf_cloud_parameters_mass"><code>CloudMicrophysics.Microphysics2M.pdf_cloud_parameters_mass</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">pdf_cloud_parameters_mass(pdf_c, q, ρₐ, N)</code></pre><p>Return the parameters of the size distribution of cloud particles in terms of mass.</p><p>See <a href="#CloudMicrophysics.Microphysics2M.log_pdf_cloud_parameters_mass"><code>log_pdf_cloud_parameters_mass</code></a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L173-L179">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.pdf_rain_parameters_mass"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.pdf_rain_parameters_mass"><code>CloudMicrophysics.Microphysics2M.pdf_rain_parameters_mass</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">pdf_rain_parameters_mass(pdf_r::CMP.RainParticlePDF_SB2006, qᵣ, ρₐ, Nᵣ)</code></pre><p>Return the parameters of the rain drop diameter distribution in terms of mass.</p><p>As a function of diameter, the size distribution is given by:</p><pre><code class="nohighlight hljs">n(D) = N₀r * exp(-D / Dr_mean)</code></pre><p>In terms of mass (<code>x</code>), the size distribution is given by:</p><pre><code class="nohighlight hljs">f(x) = n(D(x)) * ∂D∂x(x)
     = N₀ * exp(-D(x) / Dr_mean) * 2 / (π * ρw) * x^(-2/3)
     = N₀ * 2 / (π * ρw) * x^(-2/3) * exp(- (6 / (π * ρw))^(1/3) / Dr_mean * x^(1/3))</code></pre><p>where</p><ul><li><code>D(x) = (6x / (π * ρw))^(1/3)</code> is the diameter of a raindrop of mass <code>x</code>.</li><li><code>∂D∂x(x) = (6 / (π * ρw))^(1/3) * x^(-2/3)</code> is the derivative of the diameter with respect to the mass.</li></ul><p>If we write the general form of the size distribution as:</p><pre><code class="nohighlight hljs">f(x) = A * x^ν * exp(-B * x^μ)</code></pre><p>then we have that:</p><ul><li><code>A = N₀ * 2 / (π * ρw)</code></li><li><code>B = (6 / (π * ρw))^(1/3) / Dr_mean</code></li><li><code>ν = -2/3</code></li><li><code>μ = 1/3</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L95-L123">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.log_pdf_cloud_parameters_mass"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.log_pdf_cloud_parameters_mass"><code>CloudMicrophysics.Microphysics2M.log_pdf_cloud_parameters_mass</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">log_pdf_cloud_parameters_mass(pdf_c, q, ρₐ, N)</code></pre><p>Return the log of the parameters of the generalized gamma distribution of the form</p><pre><code class="nohighlight hljs">f(x) = A * x^ν * exp(-B * x^μ),  [Eq. (79) in Seifert and Beheng 2006, but using the symbol `B` instead of `λ`]</code></pre><p>where</p><pre><code class="nohighlight hljs">B = [  x̄ Γ(z₁) / Γ(z₂) ]^(-μ)
A = μ N B^(z₁) / Γ(z₁)
z₁ = (ν + 1) / μ
z₂ = (ν + 2) / μ</code></pre><p>That is,</p><pre><code class="nohighlight hljs">log(B) = - μ [ log(x̄) + logΓ(z₁) - logΓ(z₂) ]
log(A) = log(μ) + log(N) + z₁ * log(B) - logΓ(z₁)</code></pre><p><strong>Arguments</strong></p><ul><li><code>pdf_c</code>: Size distribution parameters for cloud droplets, <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>q</code>: Liquid mass content [kg/kg]</li><li><code>ρₐ</code>: Air density [kg/m³]</li><li><code>N</code>: Number concentration of the particle [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li><code>(logA, logB)</code>: Log of the parameters of the generalized gamma distribution</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L131-L158">source</a></section></details></article><h3 id="Size-distributions-2"><a class="docs-heading-anchor" href="#Size-distributions-2">Size distributions</a><a class="docs-heading-anchor-permalink" href="#Size-distributions-2" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.Parameters.RainParticlePDF_SB2006, Any, Any, Any}"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.Parameters.RainParticlePDF_SB2006, Any, Any, Any}"><code>CloudMicrophysics.DistributionTools.size_distribution</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">size_distribution(pdf::CMP.RainParticlePDF_SB2006, q, ρₐ, N)</code></pre><p>Return <code>n(D)</code>, a function that computes the size distribution for rain particles at diameter <code>D</code></p><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: Rain size distribution parameters, <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a></li><li><code>q</code>: Rain water specific content [kg/kg]</li><li><code>ρₐ</code>: Density of air [kg/m³]</li><li><code>N</code>: Rain water number concentration [1/m³]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L239-L249">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.Parameters.CloudParticlePDF_SB2006, Any, Any, Any}"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.Parameters.CloudParticlePDF_SB2006, Any, Any, Any}"><code>CloudMicrophysics.DistributionTools.size_distribution</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">size_distribution(pdf::CMP.CloudParticlePDF_SB2006, q, ρₐ, N)</code></pre><p>Return <code>n(D)</code>, a function that computes the size distribution for cloud particles at diameter <code>D</code></p><p>The size distribution is given by:</p><pre><code class="nohighlight hljs">n(D) = N₀c * D^(3νc + 2) * exp(-λc * D^(3μc))</code></pre><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: Cloud size distribution parameters, <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>q</code>: Cloud water specific content [kg/kg]</li><li><code>ρₐ</code>: Density of air [kg/m³]</li><li><code>N</code>: Cloud water number concentration [1/m³]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L255-L270">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.size_distribution_value"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.size_distribution_value"><code>CloudMicrophysics.Microphysics2M.size_distribution_value</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">size_distribution_value(pdf, q, ρₐ, N, D)</code></pre><p>Return the size distribution value for a cloud or rain particle of diameter <code>D</code>.</p><p>See <a href="#CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.Parameters.RainParticlePDF_SB2006, Any, Any, Any}"><code>size_distribution</code></a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L276-L282">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.get_size_distribution_bounds"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.get_size_distribution_bounds"><code>CloudMicrophysics.Microphysics2M.get_size_distribution_bounds</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_size_distribution_bounds(pdf, q, ρₐ, N, p)</code></pre><p>Return the minimum and maximum diameters of a cloud or rain particle such that the size distribution is within (1 - p) to (p) probability of the true size distribution.</p><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: Size distribution parameters for cloud or rain,  <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a> or <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>q</code>: mass mixing ratio of cloud or rain water</li><li><code>ρₐ</code>: density of air</li><li><code>N</code>: number mixing ratio of cloud or rain</li><li><code>p</code>: probability level (0 ≤ p ≤ 1)</li></ul><p><strong>Returns</strong></p><ul><li><code>D_min, D_max</code>: minimum and maximum diameters of a cloud or rain particle such that  the size distribution is within (1 - p) to (p) probability of the true size distribution.  All inputs and output diameters are in base SI units.  The bounds are calculated through quantile functions of the size distribution.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L288-L307">source</a></section></details></article><h2 id="Rates"><a class="docs-heading-anchor" href="#Rates">Rates</a><a id="Rates-1"></a><a class="docs-heading-anchor-permalink" href="#Rates" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.LclRaiRates"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.LclRaiRates"><code>CloudMicrophysics.Microphysics2M.LclRaiRates</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>A structure containing the rates of change of the specific contents and number densities of cloud liquid water and rain water.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L334-L337">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.autoconversion"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.autoconversion"><code>CloudMicrophysics.Microphysics2M.autoconversion</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">autoconversion(acnv, pdf_c, q_lcl, q_rai, ρ, N_lcl)</code></pre><p>Compute autoconversion rates</p><p><strong>Arguments</strong></p><ul><li><code>acnv</code>: Autoconversion parameters, <a href="#CloudMicrophysics.Parameters.AcnvSB2006"><code>CMP.AcnvSB2006</code></a></li><li><code>pdf_c</code>: Cloud size distribution parameters, <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>q_lcl</code>: Cloud liquid water specific content [kg/kg]</li><li><code>q_rai</code>: Rain water specific content [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>N_lcl</code>: Cloud droplet number density [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li><a href="#CloudMicrophysics.Microphysics2M.LclRaiRates"><code>LclRaiRates</code></a> with <code>q_lcl</code>, <code>N_lcl</code>, <code>q_rai</code>, <code>N_rai</code> tendencies due to  collisions between cloud droplets (autoconversion)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L349-L365">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.accretion"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.accretion"><code>CloudMicrophysics.Microphysics2M.accretion</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">accretion(accr, q_lcl, q_rai, ρ, N_lcl)</code></pre><p>Compute accretion rate</p><p><strong>Arguments</strong></p><ul><li><code>accr</code>: Accretion parameters, <a href="#CloudMicrophysics.Parameters.AccrSB2006"><code>CMP.AccrSB2006</code></a></li><li><code>q_lcl</code>: Cloud liquid water specific content [kg/kg]</li><li><code>q_rai</code>: Rain water specific content [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>N_lcl</code>: Cloud droplet number density [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li><a href="#CloudMicrophysics.Microphysics2M.LclRaiRates"><code>LclRaiRates</code></a> with <code>q_lcl</code>, <code>N_lcl</code>, <code>q_rai</code>, <code>N_rai</code> tendencies due to  collisions between raindrops and cloud droplets (accretion)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L399-L414">source</a></section><section><div><pre><code class="language-julia hljs">accretion(accretion_scheme, q_lcl, q_rai, ρ)</code></pre><ul><li><code>accretion_scheme</code> - type for 2-moment rain accretion parameterization</li><li><code>q_lcl</code> - cloud liquid water specific content</li><li><code>q_rai</code> - rain water specific content</li><li><code>ρ</code> - air density (for <code>KK2000Type</code> and <code>Beheng1994Type</code>)</li></ul><p>Returns the accretion rate of rain, parametrized following</p><ul><li>Khairoutdinov and Kogan (2000) for <code>scheme == KK2000Type</code></li><li>Beheng (1994) for <code>scheme == B1994Type</code></li><li>Tripoli and Cotton (1980) for <code>scheme == TC1980Type</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L952-L964">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.cloud_liquid_self_collection"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.cloud_liquid_self_collection"><code>CloudMicrophysics.Microphysics2M.cloud_liquid_self_collection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">cloud_liquid_self_collection(acnv, pdf_c, q_lcl, ρ, dN_lcl_dt_au)</code></pre><p>Compute cloud liquid self-collection rate</p><p><strong>Arguments</strong></p><ul><li><code>acnv</code>: 2-moment autoconversion parameterization, <a href="#CloudMicrophysics.Parameters.AcnvSB2006"><code>CMP.AcnvSB2006</code></a></li><li><code>pdf_c</code>: Cloud size distribution parameters, <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>q_lcl</code>: Cloud liquid water specific content [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>dN_lcl_dt_au</code>: Rate of change of cloud droplets number density due to autoconversion [1/m³/s]</li></ul><p><strong>Returns</strong></p><ul><li>The cloud droplets number density tendency due to collisions of cloud droplets  that produce larger cloud droplets (self-collection)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L441-L456">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.autoconversion_and_cloud_liquid_self_collection"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.autoconversion_and_cloud_liquid_self_collection"><code>CloudMicrophysics.Microphysics2M.autoconversion_and_cloud_liquid_self_collection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">autoconversion_and_cloud_liquid_self_collection(scheme, q_lcl, q_rai, ρ, N_lcl)</code></pre><p>Compute autoconversion and cloud liquid self-collection rates</p><p><strong>Arguments</strong></p><ul><li><code>scheme</code>: 2-moment rain autoconversion parameterization, <a href="#CloudMicrophysics.Parameters.SB2006"><code>CMP.SB2006</code></a></li><li><code>q_lcl</code>: Cloud liquid water specific content [kg/kg]</li><li><code>q_rai</code>: Rain water specific content [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>N_lcl</code>: Cloud droplet number density [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li><code>(au, sc)</code>: A <code>NamedTuple</code> containing the autoconversion rate and the  cloud liquid self-collection rate.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L476-L491">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.rain_self_collection"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.rain_self_collection"><code>CloudMicrophysics.Microphysics2M.rain_self_collection</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rain_self_collection(pdf, self, q_rai, ρ, N_rai)</code></pre><p>Compute the rain self-collection rate</p><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: Rain size distribution parameters, <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a></li><li><code>self</code>: Rain self-collection parameters, <a href="#CloudMicrophysics.Parameters.SelfColSB2006"><code>CMP.SelfColSB2006</code></a></li><li><code>q_rai</code>: Rain water specific content [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>N_rai</code>: Raindrops number density [1/m³]</li></ul><p><strong>Returns</strong></p><ul><li>The raindrops number density tendency due to collisions of raindrops that  produce larger raindrops (self-collection).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L503-L518">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.rain_breakup"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.rain_breakup"><code>CloudMicrophysics.Microphysics2M.rain_breakup</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rain_breakup(pdf, brek, q_rai, ρ, N_rai, dN_rai_dt_sc)</code></pre><p>Compute the raindrops number density tendency due to breakup of raindrops</p><p><strong>Arguments</strong></p><ul><li><code>pdf</code>: Rain size distribution parameters, <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a></li><li><code>brek</code>: Rain breakup parameters, <a href="#CloudMicrophysics.Parameters.BreakupSB2006"><code>CMP.BreakupSB2006</code></a></li><li><code>q_rai</code>: Rain water specific content</li><li><code>ρ</code>: Air density</li><li><code>N_rai</code>: Raindrops number density</li><li><code>dN_rai_dt_sc</code>: Rate of change of raindrops number density due to self-collection</li></ul><p><strong>Returns</strong></p><ul><li>The raindrops number density tendency due to breakup of raindrops that produce  smaller raindrops</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L538-L554">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.rain_self_collection_and_breakup"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.rain_self_collection_and_breakup"><code>CloudMicrophysics.Microphysics2M.rain_self_collection_and_breakup</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rain_self_collection_and_breakup(params, q_rai, ρ, N_rai)</code></pre><p>Compute the raindrops self-collection and breakup rates.</p><p><strong>Arguments</strong></p><ul><li><code>params</code>: 2-moment rain size distribution parameters, <a href="#CloudMicrophysics.Parameters.SB2006"><code>CMP.SB2006</code></a>  including raindrop size distribution, self collection, and breakup parameters</li><li><code>q_rai</code>: Rain water specific content</li><li><code>ρ</code>: Air density</li><li><code>N_rai</code>: Raindrops number density</li></ul><p><strong>Returns</strong></p><ul><li><code>(sc, br)</code>: A <code>NamedTuple</code> containing the raindrops self-collection and breakup rates, respectively.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L580-L594">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.rain_terminal_velocity"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.rain_terminal_velocity"><code>CloudMicrophysics.Microphysics2M.rain_terminal_velocity</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rain_terminal_velocity(SB2006, vel, q_rai, ρ, N_rai)</code></pre><p>Compute the raindrops terminal velocity.</p><p><strong>Arguments</strong></p><ul><li><code>pdf_r</code>: Rain size distribution parameters, <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a></li><li><code>vel</code>: Terminal velocity parameters, <a href="#CloudMicrophysics.Parameters.Chen2022VelTypeRain"><code>CMP.Chen2022VelTypeRain</code></a></li><li><code>q_rai</code>: Rain water specific content</li><li><code>ρ</code>: Air density</li><li><code>N_rai</code>: Raindrops number density</li></ul><p><strong>Returns</strong></p><p>A tuple containing the number and mass weigthed mean fall velocities of raindrops in [m/s]. Assuming an exponential size distribution from Seifert and Beheng 2006 for <code>scheme == SB2006Type</code> Fall velocity of individual rain drops is parameterized:</p><ul><li>assuming an empirical relation similar to Rogers (1993) for <code>velo_scheme == SB2006VelType</code></li><li>following Chen et. al 2022, DOI: 10.1016/j.atmosres.2022.106171 for <code>velo_scheme == Chen2022Type</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L649-L667">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.rain_evaporation"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.rain_evaporation"><code>CloudMicrophysics.Microphysics2M.rain_evaporation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">rain_evaporation(evap, aps, tps, q_tot, q_lcl, q_icl, q_rai, q_sno, ρ, N_rai, T)</code></pre><ul><li><code>evap</code> - evaporation parameterization scheme</li><li><code>aps</code> - air properties</li><li><code>tps</code> - thermodynamics parameters</li><li><code>q_tot</code>, <code>q_lcl</code>, <code>q_icl</code>, <code>q_rai</code>, <code>q_sno</code> - total water,  cloud liquid water, cloud ice, rain and snow specific contents,</li><li><code>ρ</code> - air density</li><li><code>N_rai</code> - raindrops number density</li><li><code>T</code> - air temperature</li></ul><p>Returns a named tuple containing the tendency of raindrops number density and rain water specific content due to rain rain_evaporation, assuming a power law velocity relation for fall velocity of individual drops and an exponential size distribution, for <code>scheme == SB2006Type</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L737-L752">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.conv_q_lcl_to_q_rai"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.conv_q_lcl_to_q_rai"><code>CloudMicrophysics.Microphysics2M.conv_q_lcl_to_q_rai</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">conv_q_lcl_to_q_rai(acnv, q_lcl, ρ, N_d; smooth_transition)</code></pre><ul><li><code>acnv</code> - 2-moment rain autoconversion parameterization</li><li><code>q_lcl</code> - cloud liquid water specific content</li><li><code>ρ</code> - air density</li><li><code>N_d</code> - prescribed cloud droplet number concentration</li></ul><p>Returns the q_rai tendency due to collisions between cloud droplets (autoconversion), parametrized following:</p><ul><li>Khairoutdinov and Kogan (2000) for <code>scheme == KK2000Type</code></li><li>Beheng (1994) for <code>scheme == B1994Type</code></li><li>Tripoli and Cotton (1980) for <code>scheme == TC1980Type</code></li><li>Liu and Daum (2004) for <code>scheme ==LD2004Type</code></li></ul><p>The <code>Beheng1994Type</code>, <code>TC1980Type</code> and <code>LD2004Type</code> of schemes additionally accept <code>smooth_transition</code> flag that smoothes their thershold behaviour if set to <code>true</code>. The default value is <code>false</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L856-L875">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.number_increase_for_mass_limit"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.number_increase_for_mass_limit"><code>CloudMicrophysics.Microphysics2M.number_increase_for_mass_limit</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">number_increase_for_mass_limit(numadj, x_max, q, ρ, N)</code></pre><p>Compute the tendency (rate of change) of number concentration <code>N</code> required to ensure that the mean particle mass <code>x = ρq / N</code> does not exceed the upper limit <code>x_max</code>. Returns a positive tendency when the mean mass is too high (<code>x &gt; x_max</code>), and zero otherwise. The method is based on Horn (2012, DOI: <a href="https://doi.org/10.5194/gmd-5-345-2012">10.5194/gmd-5-345-2012</a>).</p><p><strong>Arguments</strong></p><ul><li><code>numadj</code>: Number concentration adjustment parameters (<a href="#CloudMicrophysics.Parameters.NumberAdjustmentHorn2012">CMP.NumberAdjustmentHorn2012</a>)</li><li><code>q</code>: Mass mixing ratio [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>N</code>: Number concentration [1/m³]</li><li><code>x_max</code>: Maximum allowed mean particle mass [kg]</li></ul><p><strong>Returns</strong></p><ul><li>The rate of change of number concentration [1/(m³·s)] needed to bring the mean mass within the upper bound.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L798-L815">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Microphysics2M.number_decrease_for_mass_limit"><a class="docstring-binding" href="#CloudMicrophysics.Microphysics2M.number_decrease_for_mass_limit"><code>CloudMicrophysics.Microphysics2M.number_decrease_for_mass_limit</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">number_decrease_for_mass_limit(numadj, x_min, q, ρ, N)</code></pre><p>Compute the tendency (rate of change) of number concentration <code>N</code> required to ensure that the mean particle mass <code>x = ρq / N</code> does not fall below the lower limit <code>x_min</code>. Returns a negative tendency when the mean mass is too low (<code>x &lt; x_min</code>), and zero otherwise. The method is based on Horn (2012, DOI: <a href="https://doi.org/10.5194/gmd-5-345-2012">10.5194/gmd-5-345-2012</a>).</p><p><strong>Arguments</strong></p><ul><li><code>numadj</code>: Number concentration adjustment parameters (<a href="#CloudMicrophysics.Parameters.NumberAdjustmentHorn2012">CMP.NumberAdjustmentHorn2012</a>)</li><li><code>q</code>: Mass mixing ratio [kg/kg]</li><li><code>ρ</code>: Air density [kg/m³]</li><li><code>N</code>: Number concentration [1/m³]</li><li><code>x_min</code>: Minimum allowed mean particle mass [kg]</li></ul><p><strong>Returns</strong></p><ul><li>The rate of change of number concentration [1/(m³·s)] needed to bring the mean mass within the lower bound.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Microphysics2M.jl#L822-L839">source</a></section></details></article><h2 id="Distribution-tools-for-2-moment-microphysics"><a class="docs-heading-anchor" href="#Distribution-tools-for-2-moment-microphysics">Distribution tools for 2-moment microphysics</a><a id="Distribution-tools-for-2-moment-microphysics-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution-tools-for-2-moment-microphysics" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools"><code>CloudMicrophysics.DistributionTools</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">DistributionTools</code></pre><p>A module containing tools for working with size distributions.</p><p>Currently, it contains tools for working with the generalized gamma distribution and the exponential distribution.</p><p>Mostly used for the 2-moment microphysics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/DistributionTools.jl#L1-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.generalized_gamma_quantile"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.generalized_gamma_quantile"><code>CloudMicrophysics.DistributionTools.generalized_gamma_quantile</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generalized_gamma_quantile(ν, μ, B, Y)</code></pre><p>Calculate the quantile (inverse cumulative distribution function) for a     generalized gamma distribution parameterized in the form:</p><pre><code class="nohighlight hljs">g(x) = A ⋅ x^ν ⋅ exp(-B ⋅ x^μ)</code></pre><p><strong>Arguments</strong></p><ul><li><code>ν, μ, B</code>: The PDF parameters</li><li><code>Y</code>: The probability level (0 ≤ Y ≤ 1) for which to compute the quantile</li></ul><p><strong>Returns</strong></p><ul><li><code>x</code>: The value x such that P(X ≤ x) = Y</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/DistributionTools.jl#L28-L42">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.generalized_gamma_cdf"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.generalized_gamma_cdf"><code>CloudMicrophysics.DistributionTools.generalized_gamma_cdf</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">generalized_gamma_cdf(ν, μ, B, x)</code></pre><p>Calculate the cumulative distribution function (CDF) for a generalized gamma distribution parameterized in the form:</p><pre><code class="nohighlight hljs">g(x) = A * x^ν * exp(-B * x^μ)</code></pre><p>The CDF gives the probability P(X ≤ x).</p><p><strong>Arguments</strong></p><ul><li><code>ν, μ, B</code>: The PDF parameters</li><li><code>x</code>: The value at which to evaluate the CDF</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: The probability P(X ≤ x)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/DistributionTools.jl#L49-L65">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.exponential_cdf"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.exponential_cdf"><code>CloudMicrophysics.DistributionTools.exponential_cdf</code></a> — <span class="docstring-category">Function</span></summary><section><div><p>exponential<em>cdf(D</em>mean, D)</p><p>Calculate the cumulative distribution function (CDF) for an exponential distribution parameterized in the form:</p><p>n(D) = N₀ * exp(-D / D_mean)</p><p>where N₀ is a normalizing constant such that the total probability is 1.</p><p><strong>Arguments</strong></p><ul><li><code>D_mean</code>: The mean value of the distribution</li><li><code>D</code>: The point at which to evaluate the CDF (must be ≥ 0)</li></ul><p><strong>Returns</strong></p><ul><li><code>p</code>: The probability P(X ≤ D)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/DistributionTools.jl#L103-L119">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.exponential_quantile"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.exponential_quantile"><code>CloudMicrophysics.DistributionTools.exponential_quantile</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">exponential_quantile(D_mean, Y)</code></pre><p>Calculate the quantile (inverse cumulative distribution function) for an exponential distribution parameterized in the form:</p><pre><code class="nohighlight hljs">n(D) = N₀ * exp(-D / D_mean)</code></pre><p>where N₀ is a normalizing constant such that the total probability is 1.</p><p><strong>Arguments</strong></p><ul><li><code>Y</code>: The probability level (0 ≤ Y ≤ 1) for which to compute the quantile</li><li><code>D_mean</code>: The mean value of the distribution</li></ul><p><strong>Returns</strong></p><ul><li><code>D</code>: The value D such that P(X ≤ D) = Y</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/DistributionTools.jl#L130-L146">source</a></section></details></article><h1 id="P3-scheme"><a class="docs-heading-anchor" href="#P3-scheme">P3 scheme</a><a id="P3-scheme-1"></a><a class="docs-heading-anchor-permalink" href="#P3-scheme" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme"><code>CloudMicrophysics.P3Scheme</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Predicted particle properties scheme P3 for ice [<a href="../References/#MorrisonMilbrandt2015">23</a>].</p><p>See online docs for more information.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3.jl#L1-L5">source</a></section></details></article><h2 id="Construct-parameterization-set"><a class="docs-heading-anchor" href="#Construct-parameterization-set">Construct parameterization set</a><a id="Construct-parameterization-set-1"></a><a class="docs-heading-anchor-permalink" href="#Construct-parameterization-set" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParametersP3"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParametersP3"><code>CloudMicrophysics.Parameters.ParametersP3</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ParametersP3{FT}</code></pre><p>Parameters for P3 bulk microphysics scheme.</p><p>From Morrison and Milbrandt (2015) [<a href="../References/#MorrisonMilbrandt2015">23</a>]</p><p><strong>Fields</strong></p><ul><li><p><code>mass</code>: Mass-size relation, e.g. <a href="#CloudMicrophysics.Parameters.MassPowerLaw"><code>MassPowerLaw</code></a></p></li><li><p><code>area</code>: Area-size relation, e.g. <a href="#CloudMicrophysics.Parameters.AreaPowerLaw"><code>AreaPowerLaw</code></a></p></li><li><p><code>slope</code>: Slope relation, e.g. <a href="#CloudMicrophysics.Parameters.SlopePowerLaw"><code>SlopePowerLaw</code></a> or <a href="#CloudMicrophysics.Parameters.SlopeConstant"><code>SlopeConstant</code></a></p></li><li><p><code>vent</code>: Ventilation relation, e.g. <a href="#CloudMicrophysics.Parameters.VentilationFactor"><code>VentilationFactor</code></a></p></li><li><p><code>ρ_rim_local</code>: Local rime density, e.g. <a href="#CloudMicrophysics.Parameters.LocalRimeDensity"><code>LocalRimeDensity</code></a></p></li><li><p><code>τ_wet</code>: Wet growth time scale [<code>s</code>]</p></li><li><p><code>ρ_i</code>: Cloud ice density [<code>kg m⁻³</code>]</p></li><li><p><code>ρ_l</code>: Cloud liquid water density [<code>kg m⁻³</code>]</p></li><li><p><code>T_freeze</code>: Water freeze temperature [<code>K</code>]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L249-L258">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParametersP3-Tuple{Float64}"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParametersP3-Tuple{Float64}"><code>CloudMicrophysics.Parameters.ParametersP3</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ParametersP3(FT)</code></pre><p>Create a <code>ParametersP3</code> object from a floating point type <code>FT</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; import CloudMicrophysics.Parameters as CMP

julia&gt; CMP.ParametersP3(Float64)
ParametersP3{Float64}
├── mass: MassPowerLaw
│   ├── α_va = 0.018537721864540644 [kg μm^(-β_va)]
│   └── β_va = 1.9 [-]
├── area: AreaPowerLaw
│   ├── γ = 0.2285 [μm^(2-σ)]
│   └── σ = 1.88 [-]
├── slope: SlopePowerLaw
│   ├── a = 0.00191 [m^b]
│   ├── b = 0.8 [-]
│   ├── c = 2.0 [-]
│   └── μ_max = 6.0 [-]
├── vent: VentilationFactor
│   ├── aᵥ = 0.78 [-]
│   └── bᵥ = 0.308 [-]
├── ρ_rim_local: LocalRimeDensity
│   ├── a = 51.0 [m^b]
│   ├── b = 114.0 [-]
│   ├── c = -5.5 [-]
│   └── ρ_ice = 916.7 [-]
├── τ_wet = 100.0 [s]
├── ρ_i = 916.7 [kg m⁻³]
├── ρ_l = 1000.0 [kg m⁻³]
└── T_freeze = 273.15 [K]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L280-L316">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParametersP3-Tuple{ClimaParams.ParamDict}"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParametersP3-Tuple{ClimaParams.ParamDict}"><code>CloudMicrophysics.Parameters.ParametersP3</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ParametersP3(toml_dict::CP.ParamDict; [slope_law = :powerlaw])</code></pre><p>Create a <code>ParametersP3</code> object from a <code>ClimaParams</code> TOML dictionary.</p><p><strong>Arguments</strong></p><ul><li><code>toml_dict::CP.ParamDict</code>: A <code>ClimaParams</code> TOML dictionary</li><li><code>slope_law</code>: Slope law to use (<code>:constant</code> or, by default, <code>:powerlaw</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L319-L328">source</a></section></details></article><h3 id="Sub-parameterizations"><a class="docs-heading-anchor" href="#Sub-parameterizations">Sub-parameterizations</a><a id="Sub-parameterizations-1"></a><a class="docs-heading-anchor-permalink" href="#Sub-parameterizations" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.MassPowerLaw"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.MassPowerLaw"><code>CloudMicrophysics.Parameters.MassPowerLaw</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MassPowerLaw{FT}</code></pre><p>Parameters for mass(size) relation.</p><p>From measurements of mass grown by vapor diffusion and aggregation in midlatitude cirrus by Brown and Francis (1995) [<a href="../References/#BrownFrancis1995">24</a>]</p><p>A part of the <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>ParametersP3</code></a> parameter set.</p><div class="admonition is-info" id="Note-43eae6d5b016f3b7"><header class="admonition-header">Note<a class="admonition-anchor" href="#Note-43eae6d5b016f3b7" title="Permalink"></a></header><div class="admonition-body"><p>The <code>BF1995_mass_coeff_alpha</code> parameter is provided in units of [<code>g μm^(-β_va)</code>] but the <code>α_va</code> field is stored in SI-like units of [<code>kg m^(-β_va)</code>] for consistency with the rest of the code.</p></div></div><p><strong>Fields</strong></p><ul><li><p><code>α_va</code>: Coefficient in mass(size) relation [<code>kg m^(-β_va)</code>]</p></li><li><p><code>β_va</code>: Coefficient in mass(size) relation [<code>-</code>]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L8-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AreaPowerLaw"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AreaPowerLaw"><code>CloudMicrophysics.Parameters.AreaPowerLaw</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AreaPowerLaw{FT}</code></pre><p>Parameters for area(size) relation.</p><p class="math-container">\[A(D) = γ D^σ\]</p><p>where <code>γ</code> and <code>σ</code> are coefficients in area(size) for ice side plane, column, bullet, and planar polycrystal aggregates. Values are from Mitchell (1996) [<a href="../References/#Mitchell1996">25</a>]</p><p>A part of the <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>ParametersP3</code></a> parameter set.</p><p><strong>Fields</strong></p><ul><li><p><code>γ</code>: Scale [<code>μm^(2-σ)</code>]</p></li><li><p><code>σ</code>: Power [<code>-</code>]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L43-L59">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SlopeLaw"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SlopeLaw"><code>CloudMicrophysics.Parameters.SlopeLaw</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SlopeLaw{FT}</code></pre><p>The top-level super-type for slope parameterizations.</p><p>See <a href="#CloudMicrophysics.Parameters.SlopePowerLaw"><code>SlopePowerLaw</code></a> and <a href="#CloudMicrophysics.Parameters.SlopeConstant"><code>SlopeConstant</code></a> for concrete implementations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L73-L79">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SlopePowerLaw"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SlopePowerLaw"><code>CloudMicrophysics.Parameters.SlopePowerLaw</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SlopePowerLaw{FT}</code></pre><p>Slope parameter μ as a power law in shape parameter λ:</p><p class="math-container">\[μ(λ) = a λ^b - c\]</p><p>and is limited to:</p><p class="math-container">\[0 ≤ μ ≤ μ_{max}\]</p><p>See also Eq. 3 in Morrison and Milbrandt (2015) [<a href="../References/#MorrisonMilbrandt2015">23</a>]</p><p>A part of the <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>ParametersP3</code></a> parameter set.</p><p><strong>Fields</strong></p><ul><li><p><code>a</code>: Scale [<code>m^b</code>]</p></li><li><p><code>b</code>: Power [<code>-</code>]</p></li><li><p><code>c</code>: Offset [<code>-</code>]</p></li><li><p><code>μ_max</code>: Upper limiter [<code>-</code>]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L82-L103">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SlopeConstant"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SlopeConstant"><code>CloudMicrophysics.Parameters.SlopeConstant</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SlopeConstant{FT}</code></pre><p>Slope parameter μ as a constant:</p><p class="math-container">\[μ(λ) = μ_{const}\]</p><p>A part of the <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>ParametersP3</code></a> parameter set.</p><p><strong>Fields</strong></p><ul><li><code>μ</code>: Slope parameter μ [<code>-</code>]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L126-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.VentilationFactor"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.VentilationFactor"><code>CloudMicrophysics.Parameters.VentilationFactor</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">VentilationFactor{FT}</code></pre><p>Parameters for ventilation factor:</p><p class="math-container">\[F(D) = a_{v} + b_{v}  N_{Sc}^{1/3} N_{Re}(D)^{1/2}\]</p><p>where <code>N_{Sc}</code> is the Schmidt number and <code>N_{Re}(D)</code> is the Reynolds number for a particle with diameter <code>D</code>.</p><p>From Seifert and Beheng (2006) [<a href="../References/#SeifertBeheng2006">10</a>], see also Eq. (13-61) in Pruppacher and Klett (2010) [<a href="../References/#PruppacherKlett2010">65</a>]</p><p>A part of the <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>ParametersP3</code></a> parameter set.</p><p><strong>Fields</strong></p><ul><li><p><code>aᵥ</code>: Constant coefficient in ventilation factor [<code>-</code>]</p></li><li><p><code>bᵥ</code>: Linear coefficient in ventilation factor [<code>-</code>]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L151-L168">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.LocalRimeDensity"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.LocalRimeDensity"><code>CloudMicrophysics.Parameters.LocalRimeDensity</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LocalRimeDensity{FT}
(ρ′_rim::LocalRimeDensity)(Rᵢ)</code></pre><p>Local rime density parameterization based on Cober and List (1993) [<a href="../References/#CoberList1993">32</a>], Eq. 16 and 17.</p><p>Given an instance <code>ρ′_rim::LocalRimeDensity</code>, obtain the local rime density  for a given Rᵢ [m² s⁻¹ °C⁻¹] by calling <code>ρ′_rim(Rᵢ)</code>.</p><p>The parameterization is given by:</p><p class="math-container">\[ρ&#39;_{rim} = a + b R_i + c R_i^2, \quad 1 ≤ R_i ≤ 8,\]</p><p>The range is extended to <code>R_i ≤ 12</code>, by linearly interpolating between  <code>ρ′_rim(8)</code> and <code>ρ_ice = 900 kg/m³</code>. The latter is the solid bulk ice density.</p><p>For calculating Rᵢ, see <a href="#CloudMicrophysics.P3Scheme.compute_local_rime_density"><code>compute_local_rime_density</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/MicrophysicsP3.jl#L185-L204">source</a></section></details></article><h2 id="Obtain-particle-state"><a class="docs-heading-anchor" href="#Obtain-particle-state">Obtain particle state</a><a id="Obtain-particle-state-1"></a><a class="docs-heading-anchor-permalink" href="#Obtain-particle-state" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.P3State"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.P3State"><code>CloudMicrophysics.P3Scheme.P3State</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">P3State{FT}</code></pre><p>State of the P3 scheme.</p><p>This struct bundles the P3 parameterizations <code>params</code>, the provided rime state (<code>F_rim</code>, <code>ρ_rim</code>),     and the derived threshold variables (<code>D_th</code>, <code>D_gr</code>, <code>D_cr</code>, <code>ρ_g</code>).</p><p>To obtain a <code>P3State</code> object, use the <a href="#CloudMicrophysics.P3Scheme.get_state"><code>get_state</code></a> function.</p><p><strong>Fields</strong></p><ul><li><p><code>params</code>: <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a> object</p></li><li><p><code>L_ice</code>: The ice mass concentration [kg/m³]</p></li><li><p><code>N_ice</code>: The ice number concentration [1/m³]</p></li><li><p><code>F_rim</code>: Rime mass fraction</p></li><li><p><code>ρ_rim</code>: Rime density</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L2-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_state"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_state"><code>CloudMicrophysics.P3Scheme.get_state</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_state(params; L_ice, N_ice, F_rim, ρ_rim)</code></pre><p>Create a <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> from <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a> and rime state parameters.</p><p><strong>Arguments</strong></p><ul><li><code>params</code>: <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a> object</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>L_ice</code>: ice mass concentration [kg/m³]</li><li><code>N_ice</code>: ice number concentration [1/m³]</li><li><code>F_rim</code>: rime mass fraction [-], <code>F_rim = L_rim / L_ice</code></li><li><code>ρ_rim</code>: rime density [kg/m³],   <code>ρ_rim = L_rim / B_rim</code></li></ul><p><strong>Examples</strong></p><p>```jldoctest  julia&gt; import CloudMicrophysics.Parameters as CMP,                CloudMicrophysics.P3Scheme as P3</p><p>julia&gt; FT = Float32;</p><p>julia&gt; params = CMP.ParametersP3(FT);</p><p>julia&gt; state = P3.get<em>state(params; F</em>rim = FT(0.5), ρ<em>rim = FT(916.7))  P3State{Float32}  ├── params = {MassPowerLaw, AreaPowerLaw, SlopePowerLaw, VentilationFactor}  ├── F</em>rim = 0.5 [-]  └── ρ_rim = 916.7 [kg/m^3]  ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L29-L59">source</a></section></details></article><h3 id="State-relationships"><a class="docs-heading-anchor" href="#State-relationships">State relationships</a><a id="State-relationships-1"></a><a class="docs-heading-anchor-permalink" href="#State-relationships" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_thresholds_ρ_g"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_thresholds_ρ_g"><code>CloudMicrophysics.P3Scheme.get_thresholds_ρ_g</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_thresholds_ρ_g(state::P3State)
get_thresholds_ρ_g(params::CMP.ParametersP3, F_rim, ρ_rim)</code></pre><p><strong>Returns</strong></p><ul><li><code>(; D_th, D_gr, D_cr, ρ_g)</code>: The thresholds for the size distribution,   and the density of total (deposition + rime) ice mass for graupel [kg/m³]</li></ul><p>See <a href="#CloudMicrophysics.P3Scheme.get_D_th"><code>get_D_th</code></a>, <a href="#CloudMicrophysics.P3Scheme.get_D_gr"><code>get_D_gr</code></a>, <a href="#CloudMicrophysics.P3Scheme.get_D_cr"><code>get_D_cr</code></a>, and <a href="#CloudMicrophysics.P3Scheme.get_ρ_g"><code>get_ρ_g</code></a> for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L193-L203">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_ρ_d"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_ρ_d"><code>CloudMicrophysics.P3Scheme.get_ρ_d</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_ρ_d(mass::MassPowerLaw, F_rim, ρ_rim)
get_ρ_d(state::P3State)</code></pre><p>Exact solution for the density of the unrimed portion of the particle as     function of the rime mass fraction <code>F_rim</code>, mass power law parameters <code>mass</code>,     and rime density <code>ρ_rim</code>.</p><p><strong>Arguments</strong></p><ul><li><code>mass</code>: <a href="#CloudMicrophysics.Parameters.MassPowerLaw"><code>CMP.MassPowerLaw</code></a> parameters</li><li><code>F_rim</code>: rime mass fraction</li><li><code>ρ_rim</code>: rime density</li></ul><p><strong>Returns</strong></p><ul><li><code>ρ_d</code>: density of the unrimed portion of the particle [kg/m³]</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; import CloudMicrophysics.Parameters as CMP,
              ClimaParams as CP,
              CloudMicrophysics.P3Scheme as P3

julia&gt; FT = Float64;

julia&gt; mass = CMP.MassPowerLaw(CP.create_toml_dict(FT));

julia&gt; F_rim, ρ_rim = FT(0.5), FT(916.7);

julia&gt; ρ_d = P3.get_ρ_d(mass, F_rim, ρ_rim)
488.9120789986412</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L80-L112">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_ρ_g"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_ρ_g"><code>CloudMicrophysics.P3Scheme.get_ρ_g</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_ρ_g(F_rim, ρ_rim, ρ_d)
get_ρ_g(mass::MassPowerLaw, F_rim, ρ_rim)</code></pre><p>Return the density of total (deposition + rime) ice mass for graupel [kg/m³]</p><p><strong>Arguments</strong></p><ul><li><code>F_rim</code>: rime mass fraction (<code>L_rim / L_ice</code>) [-]</li><li><code>ρ_rim</code>: rime density (<code>L_rim / B_rim</code>) [kg/m³]</li><li><code>ρ_d</code>: density of the unrimed portion of the particle [kg/m³], see <a href="#CloudMicrophysics.P3Scheme.get_ρ_d"><code>get_ρ_d</code></a></li></ul><p><strong>Returns</strong></p><ul><li><code>ρ_g</code>: density of total (deposition + rime) ice mass for graupel [kg/m³]</li></ul><p><strong>Notes:</strong></p><p>See Eq. 16 in [<a href="../References/#MorrisonMilbrandt2015">23</a>].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L121-L137">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_D_th"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_D_th"><code>CloudMicrophysics.P3Scheme.get_D_th</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_D_th(mass::MassPowerLaw, ρ_i)</code></pre><p>Return the critical size separating spherical and nonspherical ice [meters]</p><p>See Eq. 8 in [<a href="../References/#MorrisonMilbrandt2015">23</a>].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L165-L171">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_D_gr"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_D_gr"><code>CloudMicrophysics.P3Scheme.get_D_gr</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_D_gr(mass::MassPowerLaw, ρ_g)</code></pre><p>Return the size of equal mass for graupel and unrimed ice [meters]</p><p>See Eq. 15 in [<a href="../References/#MorrisonMilbrandt2015">23</a>].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L175-L181">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_D_cr"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_D_cr"><code>CloudMicrophysics.P3Scheme.get_D_cr</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_D_cr(mass::MassPowerLaw, F_rim, ρ_g)</code></pre><p>Return the size of equal mass for graupel and partially rimed ice [meters]</p><p>See Eq. 14 in [<a href="../References/#MorrisonMilbrandt2015">23</a>].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L184-L190">source</a></section></details></article><h3 id="Derived-quantities"><a class="docs-heading-anchor" href="#Derived-quantities">Derived quantities</a><a id="Derived-quantities-1"></a><a class="docs-heading-anchor-permalink" href="#Derived-quantities" title="Permalink"></a></h3><h4 id="Main-particle-methods"><a class="docs-heading-anchor" href="#Main-particle-methods">Main particle methods</a><a id="Main-particle-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Main-particle-methods" title="Permalink"></a></h4><p>These methods are a function of the particle diameter, <code>D</code>.</p><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_mass"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_mass"><code>CloudMicrophysics.P3Scheme.ice_mass</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_mass(state, D)
ice_mass(params, F_rim, ρ_rim, D)</code></pre><p>Return the mass of a particle based on where it falls in the particle-size-based properties regime.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: The <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a>, or</li><li><code>params, F_rim, ρ_rim</code>: The <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a>, rime mass fraction, and rime density,</li><li><code>D</code>: maximum particle dimension [m]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L295-L305">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_density"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_density"><code>CloudMicrophysics.P3Scheme.ice_density</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_density(state::P3State, D)
ice_density(params::CMP.ParametersP3, F_rim, ρ_rim, D)</code></pre><p>Return the density of a particle at diameter D</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: The <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a>, or</li><li><code>params, F_rim, ρ_rim</code>: The <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a>, rime mass fraction, and rime density,</li><li><code>D</code>: maximum particle dimension [m]</li></ul><p><strong>Notes:</strong></p><p>The density of nonspherical particles is assumed to be the particle mass divided  by the volume of a sphere with the same D [<a href="../References/#MorrisonMilbrandt2015">23</a>].  Needed for aspect ratio calculation, so we assume zero liquid fraction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L312-L327">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.∂ice_mass_∂D"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.∂ice_mass_∂D"><code>CloudMicrophysics.P3Scheme.∂ice_mass_∂D</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">∂ice_mass_∂D(state::P3State, D)
∂ice_mass_∂D(params::CMP.ParametersP3, F_rim, ρ_rim, D)</code></pre><p>Return the derivative of the ice mass with respect to the particle diameter.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L339-L344">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_area"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_area"><code>CloudMicrophysics.P3Scheme.ice_area</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_area(state::P3State, D)
ice_area(params::CMP.ParametersP3, F_rim, ρ_rim, D)</code></pre><p>Return the cross-sectional area of a particle based on where it falls in the     particle-size-based properties regime.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object, or</li><li><code>params, F_rim, ρ_rim</code>: The <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a>, rime mass fraction, and rime density,</li><li><code>D</code>: maximum particle dimension [m]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L351-L362">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ϕᵢ"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ϕᵢ"><code>CloudMicrophysics.P3Scheme.ϕᵢ</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ϕᵢ(state::P3State, D)
ϕᵢ(params::CMP.ParametersP3, F_rim, ρ_rim, D)</code></pre><p>Returns the aspect ratio (ϕ) for an ice particle</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: The <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a>, or</li><li><code>params, F_rim, ρ_rim</code>: The <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a>, rime mass fraction, and rime density,</li><li><code>D</code>: maximum dimension of ice particle [m]</li></ul><p><strong>Notes</strong></p><p>The density of nonspherical particles is assumed to be equal to the particle mass  divided by the volume of a spherical particle with the same D_max [<a href="../References/#MorrisonMilbrandt2015">23</a>].  Assuming zero liquid fraction and oblate shape.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_particle_properties.jl#L382-L397">source</a></section></details></article><h2 id="Distribution-parameters"><a class="docs-heading-anchor" href="#Distribution-parameters">Distribution parameters</a><a id="Distribution-parameters-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution-parameters" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_μ"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_μ"><code>CloudMicrophysics.P3Scheme.get_μ</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_μ(slope::CMP.SlopeLaw, logλ)
get_μ(state::P3State, logλ)</code></pre><p>Compute the slope parameter μ</p><p><strong>Arguments</strong></p><ul><li><code>slope</code>: <a href="#CloudMicrophysics.Parameters.SlopeLaw"><code>CMP.SlopeLaw</code></a> object, or</li><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object, or</li><li><code>params</code>: <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a> object</li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L106-L117">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_logN₀"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_logN₀"><code>CloudMicrophysics.P3Scheme.get_logN₀</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_logN₀(N_ice, μ, logλ)</code></pre><p>Compute <code>log(N₀)</code> given the <code>state</code>, <code>N</code>, and <code>logλ</code>,</p><pre><code class="nohighlight hljs">    N  = N₀ ∫ G(D) dD
log N₀ = log N - log(∫G(D) dD) 
       = log(N) - log( ∫D^μ e^{-λD} dD )
       = log(N) - M⁰</code></pre><p><strong>Arguments</strong></p><ul><li><code>N_ice</code>: The number concentration [1/m³]</li><li><code>μ</code>: The shape parameter [<code>-</code>]</li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L165-L179">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_distribution_logλ"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_distribution_logλ"><code>CloudMicrophysics.P3Scheme.get_distribution_logλ</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_distribution_logλ(params, L_ice, N_ice, F_rim, ρ_rim; [logλ_min, logλ_max])
get_distribution_logλ(state; [logλ_min, logλ_max])</code></pre><p>Solve for the distribution parameters given the state, and the mass (<code>L</code>) and number (<code>N</code>) concentrations.</p><p>The assumed distribution is of the form</p><p class="math-container">\[N′(D) = N₀ D^μ e^{-λD}\]</p><p>where <code>N′(D)</code> is the number concentration at diameter <code>D</code> and <code>μ</code> is the slope parameter.     The slope parameter is parameterized, e.g. <a href="#CloudMicrophysics.Parameters.SlopePowerLaw"><code>CMP.SlopePowerLaw</code></a> or <a href="#CloudMicrophysics.Parameters.SlopeConstant"><code>CMP.SlopeConstant</code></a>.</p><p>This algorithm solves for <code>logλ = log(λ)</code> and <code>log_N₀ = log(N₀)</code>      given <code>L_ice</code> and <code>N_ice</code> by solving the equations:</p><p class="math-container">\[\begin{align*}
\log(L) &amp;= \log ∫_0^∞ m(D) N′(D)\ \mathrm{d}D, \\
\log(N) &amp;= \log ∫_0^∞ N′(D)\ \mathrm{d}D, \\
\end{align*}\]</p><p>where <code>m(D)</code> is the mass of a particle at diameter <code>D</code> (see <a href="#CloudMicrophysics.P3Scheme.ice_mass"><code>ice_mass</code></a>).     The procedure is decribed in detail in <a href="../P3Scheme/#Parameterizations-for-the-slope-parameter-μ">the P3 docs</a>.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object</li><li><code>params</code>: <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a> object</li><li><code>L_ice</code>: The mass concentration [kg/m³]</li><li><code>N_ice</code>: The number concentration [1/m³]</li><li><code>F_rim</code>: The rime mass fraction</li><li><code>ρ_rim</code>: The rime density</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>logλ_min</code>: The minimum value of the search bounds [log(1/m)], default is <code>log(1e1)</code></li><li><code>logλ_max</code>: The maximum value of the search bounds [log(1/m)], default is <code>log(1e7)</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L186-L224">source</a></section></details></article><h3 id="Distribution-relationships"><a class="docs-heading-anchor" href="#Distribution-relationships">Distribution relationships</a><a id="Distribution-relationships-1"></a><a class="docs-heading-anchor-permalink" href="#Distribution-relationships" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.logN′ice"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.logN′ice"><code>CloudMicrophysics.P3Scheme.logN′ice</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">logN′ice(state, logλ)</code></pre><p>Compute the log of the ice particle number concentration at diameter <code>D</code> given the distribution <code>dist</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L3-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.P3Scheme.P3State, Any}"><a class="docstring-binding" href="#CloudMicrophysics.DistributionTools.size_distribution-Tuple{CloudMicrophysics.P3Scheme.P3State, Any}"><code>CloudMicrophysics.DistributionTools.size_distribution</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">size_distribution(state::P3State, logλ)</code></pre><p>Return <code>n(D)</code>, a function that computes the size distribution for ice particles at diameter <code>D</code></p><p><strong>Arguments</strong></p><ul><li><code>state</code>: The <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L17-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.loggamma_inc_moment"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.loggamma_inc_moment"><code>CloudMicrophysics.P3Scheme.loggamma_inc_moment</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">loggamma_inc_moment(D₁, D₂, μ, logλ, [k = 0], [scale = 1])</code></pre><p>Compute <code>log(Iᵏ)</code> where <code>Iᵏ</code> is the following integral:</p><pre><code class="nohighlight hljs">``I^k = ∫_{D₁}^{D₂} G(D) D^k dD``</code></pre><p><span>$G(D) ≡ D^μ e^{-λD}$</span> is the (unnormalized) gamma kernel, and <code>k</code> is an arbitrary exponent.</p><p>If <code>scale</code> is provided, <code>log(scale ⋅ Iᵏ)</code> is returned.</p><p>With appropriate scaling, we can compute useful quantities like:</p><ul><li>the <code>k</code>-th moment of the ice PSD,  <span>$M^k = N₀ I^k$</span></li><li>combined power law and moment weighted integrals,  <span>$∫_{D₁}^{D₂} (aD^b) D^n K(D) dD ≡ a I^(b + n)$</span></li></ul><p><strong>Arguments</strong></p><ul><li><code>D₁</code>: The minimum diameter [<code>m</code>]</li><li><code>D₂</code>: The maximum diameter [<code>m</code>]</li><li><code>μ</code>: The PSD shape parameter [<code>-</code>]</li><li><code>logλ</code>: The log of the PSD slope parameter [<code>log(1/m)</code>]</li><li><code>k</code>: An arbitrary exponent [<code>-</code>], default is <code>0</code></li><li><code>scale</code>: The scale factor [<code>-</code>], default is <code>1</code></li></ul><p><strong>Extended help</strong></p><p><strong>Implementation details</strong></p><p>We can write <code>∫_D₁^D₂ G(D) D^k dD</code>, where <code>G(D) = D^μ e^{-λD}</code> as:     <code>∫_D₁^∞ G(D) D^k dD - ∫_D₂^∞ G(D) D^k dD</code>  with the transformation <code>x = λD</code>, and <code>z = μ+k+1</code>, each term can be written as:     <code>∫_{Dᵢ}^∞ G(D) D^k dD = ∫_{λDᵢ}^∞ x^z e^{-x} dx / λ^z = Γ(z, λDᵢ) / λ^z</code>  where <code>Γ(z, λDᵢ) = q ⋅ Γ(z)</code> and <code>q</code> is the incomplete gamma function ratio given by     <code>(_, q) = SF.gamma_inc(z, x)</code>.  This means that the integral <code>∫_{Dᵢ}^∞ G(D) D^k dD</code> is computed as:     <code>Γ(z) ⋅ q / λ^z</code>  The full integral from <code>D₁</code> to <code>D₂</code> is then:     <code>Γ(z) ⋅ (q_D₁ - q_D₂) / λ^z</code>  In log-space, this is:     <code>- z log(λ) + logΓ(z) + log(q_D₁ - q_D₂)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L32-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.loggamma_moment"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.loggamma_moment"><code>CloudMicrophysics.P3Scheme.loggamma_moment</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">loggamma_moment(μ, logλ; [k = 0], [scale = 1])</code></pre><p>Compute <code>log(scale ⋅ ∫_0^∞ G(D) D^k dD)</code>,   where <code>G(D) ≡ D^μ e^{-λD}</code> is the (unnormalized) gamma kernel,   <code>k</code> is an arbitrary exponent, and <code>scale</code> is a scale factor.</p><p><strong>Arguments</strong></p><ul><li><code>μ</code>: The PSD shape parameter [<code>-</code>]</li><li><code>logλ</code>: The log of the PSD slope parameter [<code>log(1/m)</code>]</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>k</code>: An arbitrary exponent [<code>-</code>], default is <code>0</code></li><li><code>scale</code>: The scale factor [<code>-</code>], default is <code>1</code>.</li></ul><p>The implementation follows the same logic as <a href="#CloudMicrophysics.P3Scheme.loggamma_inc_moment"><code>loggamma_inc_moment</code></a>,     but with <code>D₁ = 0</code> and <code>D₂ = ∞</code>, which implies <code>q_D₁ = 1</code> and <code>q_D₂ = 0</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L82-L99">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.logmass_gamma_moment"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.logmass_gamma_moment"><code>CloudMicrophysics.P3Scheme.logmass_gamma_moment</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">logmass_gamma_moment(state, logλ; [n=0])</code></pre><p>Compute <code>log(∫_0^∞ Dⁿ m(D) N′(D) dD)</code> given the <code>state</code> and <code>logλ</code>.     This is the log of the <code>n</code>-th moment of the mass-weighted PSD.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object</li><li><code>μ</code>: The shape parameter [<code>-</code>]</li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>n</code>: The order of the moment, default is <code>0</code></li></ul><p><strong>Note:</strong></p><ul><li>For <code>n = 0</code>, this evaluates to <code>log(L/N₀)</code></li><li>For <code>n = 1</code>, this evaluates to the (unnormalized) mass-weighted mean particle size, see <a href="#CloudMicrophysics.P3Scheme.D_m"><code>D_m</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L122-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.logLdivN"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.logLdivN"><code>CloudMicrophysics.P3Scheme.logLdivN</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">logLdivN(state, logλ)</code></pre><p>Compute <code>log(L/N)</code> given the <code>state</code> and <code>logλ</code></p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object</li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_size_distribution.jl#L149-L157">source</a></section></details></article><h3 id="Derived-integral-quantities"><a class="docs-heading-anchor" href="#Derived-integral-quantities">Derived integral quantities</a><a id="Derived-integral-quantities-1"></a><a class="docs-heading-anchor-permalink" href="#Derived-integral-quantities" title="Permalink"></a></h3><p>These methods integrate over the particle size distribution.</p><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.D_m"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.D_m"><code>CloudMicrophysics.P3Scheme.D_m</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">D_m(state::P3State, logλ)</code></pre><p>Compute the mass weighted mean particle size [m]</p><p><strong>Parameters</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object</li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_integral_properties.jl#L178-L186">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_particle_terminal_velocity"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_particle_terminal_velocity"><code>CloudMicrophysics.P3Scheme.ice_particle_terminal_velocity</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_particle_terminal_velocity(velocity_params, ρₐ, state::P3State; [use_aspect_ratio])
ice_particle_terminal_velocity(velocity_params, ρₐ, params::CMP.ParametersP3, F_rim, ρ_rim; [use_aspect_ratio])</code></pre><p>Returns the terminal velocity of a single ice particle as a function of its size     (maximum dimension, <code>D</code>) using the Chen 2022 parametrization.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: A <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li><li><code>velocity_params</code>: A <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a> with terminal velocity parameters</li><li><code>ρₐ</code>: Air density [kg/m³]</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>use_aspect_ratio</code>: Bool flag set to <code>true</code> if we want to consider the effects  of particle aspect ratio on its terminal velocity (default: <code>true</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_terminal_velocity.jl#L2-L17">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_terminal_velocity_number_weighted"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_terminal_velocity_number_weighted"><code>CloudMicrophysics.P3Scheme.ice_terminal_velocity_number_weighted</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_terminal_velocity_number_weighted(
    velocity_params::CMP.Chen2022VelType, ρₐ, state::P3State, logλ;
    [use_aspect_ratio], [∫kwargs...],
)</code></pre><p>Return the terminal velocity of the number-weighted mean ice particle size.</p><p><strong>Arguments</strong></p><ul><li><code>velocity_params</code>: A <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a> with terminal velocity parameters</li><li><code>ρₐ</code>: Air density [kg/m³]</li><li><code>state</code>: A <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>use_aspect_ratio</code>: Bool flag set to <code>true</code> if we want to consider the effects  of particle aspect ratio on its terminal velocity (default: <code>true</code>)</li><li><code>∫kwargs...</code>: Additional optional keyword arguments to pass to the quadrature rule</li></ul><p>See also <a href="#CloudMicrophysics.P3Scheme.ice_terminal_velocity_mass_weighted"><code>ice_terminal_velocity_mass_weighted</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_terminal_velocity.jl#L34-L54">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_terminal_velocity_mass_weighted"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_terminal_velocity_mass_weighted"><code>CloudMicrophysics.P3Scheme.ice_terminal_velocity_mass_weighted</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_terminal_velocity_mass_weighted(velocity_params::CMP.Chen2022VelType, ρₐ, state::P3State, logλ; [use_aspect_ratio], [∫kwargs...])</code></pre><p>Return the terminal velocity of the mass-weighted mean ice particle size.</p><p><strong>Arguments</strong></p><ul><li><code>velocity_params</code>: A <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a> with terminal velocity parameters</li><li><code>ρₐ</code>: Air density [kg/m³]</li><li><code>state</code>: A <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>use_aspect_ratio</code>: Bool flag set to <code>true</code> if we want to consider the effects  of particle aspect ratio on its terminal velocity (default: <code>true</code>)</li><li><code>∫kwargs...</code>: Keyword arguments passed to the quadrature rule</li></ul><p>See also <a href="#CloudMicrophysics.P3Scheme.ice_terminal_velocity_number_weighted"><code>ice_terminal_velocity_number_weighted</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_terminal_velocity.jl#L82-L99">source</a></section></details></article><h3 id="Processes"><a class="docs-heading-anchor" href="#Processes">Processes</a><a id="Processes-1"></a><a class="docs-heading-anchor-permalink" href="#Processes" title="Permalink"></a></h3><h4 id="Heterogeneous-ice-nucleation"><a class="docs-heading-anchor" href="#Heterogeneous-ice-nucleation">Heterogeneous ice nucleation</a><a id="Heterogeneous-ice-nucleation-1"></a><a class="docs-heading-anchor-permalink" href="#Heterogeneous-ice-nucleation" title="Permalink"></a></h4><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.het_ice_nucleation"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.het_ice_nucleation"><code>CloudMicrophysics.P3Scheme.het_ice_nucleation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">het_ice_nucleation(pdf_c, p3, tps, q_lcl, N, T, ρₐ, p, aerosol)</code></pre><ul><li>aerosol - aerosol parameters (supported types: desert dust, illite, kaolinite)</li><li>tps - thermodynamics parameters</li><li>q_lcl - cloud liquid water specific content</li><li>N_lcl - cloud droplet number concentration</li><li>RH - relative humidity</li><li>T - temperature</li><li>ρₐ - air density</li><li>dt - model time step</li></ul><p>Returns a named tuple with ice number concentration and ice content hetergoeneous freezing rates from cloud droplets.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L1-L15">source</a></section></details></article><h4 id="Ice-melting"><a class="docs-heading-anchor" href="#Ice-melting">Ice melting</a><a id="Ice-melting-1"></a><a class="docs-heading-anchor-permalink" href="#Ice-melting" title="Permalink"></a></h4><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ice_melt"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ice_melt"><code>CloudMicrophysics.P3Scheme.ice_melt</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ice_melt(velocity_params::CMP.Chen2022VelType, aps, tps, Tₐ, ρₐ, dt, state, logλ; ∫kwargs...)</code></pre><p><strong>Arguments</strong></p><ul><li><code>velocity_params</code>: <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a></li><li><code>aps</code>: <a href="#CloudMicrophysics.Parameters.AirProperties"><code>CMP.AirProperties</code></a></li><li><code>tps</code>: thermodynamics parameters</li><li><code>Tₐ</code>: temperature (K)</li><li><code>ρₐ</code>: air density</li><li><code>dt</code>: model time step (for limiting the tendnecy)</li><li><code>state</code>: a <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object</li><li><code>logλ</code>: the log of the slope parameter [log(1/m)]</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>∫kwargs...</code>: Additional keyword arguments passed to the quadrature rule</li></ul><p>Returns the melting rate of ice (QIMLT in Morrison and Mildbrandt (2015)).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L49-L66">source</a></section></details></article><h4 id="Collisions-with-liquid-droplets"><a class="docs-heading-anchor" href="#Collisions-with-liquid-droplets">Collisions with liquid droplets</a><a id="Collisions-with-liquid-droplets-1"></a><a class="docs-heading-anchor-permalink" href="#Collisions-with-liquid-droplets" title="Permalink"></a></h4><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.bulk_liquid_ice_collision_sources"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.bulk_liquid_ice_collision_sources"><code>CloudMicrophysics.P3Scheme.bulk_liquid_ice_collision_sources</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">bulk_liquid_ice_collision_sources(
    params, logλ, L_ice, F_rim, ρ_rim,
    psd_c, psd_r, L_c, N_c, L_r, N_r,
    aps, tps, vel, ρₐ, T,
)</code></pre><p>Computes the bulk rates for ice and liquid particle collisions.</p><p><strong>Arguments</strong></p><ul><li><code>params</code>: the <a href="#CloudMicrophysics.Parameters.ParametersP3"><code>CMP.ParametersP3</code></a></li><li><code>logλ</code>: the log of the slope parameter [log(1/m)]</li><li><code>L_ice</code>: ice water content [kg/m³]</li><li><code>F_rim</code>: riming fraction</li><li><code>ρ_rim</code>: rime density [kg/m³]</li><li><code>psd_c</code>: a <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>psd_r</code>: a <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a></li><li><code>L_c</code>: cloud liquid water content [kg/m³]</li><li><code>N_c</code>: cloud liquid water number concentration [1/m³]</li><li><code>L_r</code>: rain water content [kg/m³]</li><li><code>N_r</code>: rain number concentration [1/m³]</li><li><code>aps</code>: <a href="#CloudMicrophysics.Parameters.AirProperties"><code>CMP.AirProperties</code></a></li><li><code>tps</code>: thermodynamics parameters</li><li><code>vel</code>: the velocity parameterization, e.g. <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a></li><li><code>ρₐ</code>: air density [kg/m³]</li><li><code>T</code>: temperature [K]</li></ul><p><strong>Returns</strong></p><p>A <code>NamedTuple</code> of <code>(; ∂ₜq_c, ∂ₜq_r, ∂ₜN_c, ∂ₜN_r, ∂ₜL_rim, ∂ₜL_ice, ∂ₜB_rim)</code>, where:</p><ol><li><code>∂ₜq_c</code>: cloud liquid water content tendency [kg/kg/s]</li><li><code>∂ₜq_r</code>: rain water content tendency [kg/kg/s]</li><li><code>∂ₜN_c</code>: cloud number concentration tendency [1/m³/s]</li><li><code>∂ₜN_r</code>: rain number concentration tendency [1/m³/s]</li><li><code>∂ₜL_rim</code>: riming mass tendency [kg/m³/s]</li><li><code>∂ₜL_ice</code>: ice water content tendency [kg/m³/s]</li><li><code>∂ₜB_rim</code>: rime volume tendency [m³/m³/s]</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L407-L443">source</a></section></details></article><p>Supporting methods:</p><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.volumetric_collision_rate_integrand"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.volumetric_collision_rate_integrand"><code>CloudMicrophysics.P3Scheme.volumetric_collision_rate_integrand</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">volumetric_collision_rate_integrand(state, velocity_params, ρₐ)</code></pre><p>Returns a function that computes the volumetric collision rate integrand for ice-liquid collisions [m³/s]. The returned function takes ice and liquid particle diameters as arguments.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li><li><code>velocity_params</code>: velocity parameterization, e.g. <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a></li><li><code>ρₐ</code>: air density</li></ul><p><strong>Returns</strong></p><p>A function <code>(D_ice, D_liq) -&gt; E * K * |vᵢ - vₗ|</code> where:</p><ul><li><code>D_ice</code> and <code>D_liq</code> are the (maximum) diameters of the ice and liquid particles</li><li><code>E</code> is the collision efficiency</li><li><code>K</code> is the collision cross section</li><li><code>vᵢ</code> and <code>vₗ</code> are the terminal velocities of ice and liquid particles</li></ul><p>Note that <code>E</code>, <code>K</code>, <code>vᵢ</code> and <code>vₗ</code> are all, in general, functions of <code>D_ice</code> and <code>D_liq</code>.</p><p>This function is a component of integrals like</p><p class="math-container">\[∫ ∫ E * K * |vᵢ - vₗ| * N&#39;_i * N&#39;_l dD_i dD_l\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L107-L132">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.compute_max_freeze_rate"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.compute_max_freeze_rate"><code>CloudMicrophysics.P3Scheme.compute_max_freeze_rate</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">compute_max_freeze_rate(aps, tps, velocity_params, ρₐ, Tₐ, state)</code></pre><p>Returns a function <code>max_freeze_rate(Dᵢ)</code> that returns the maximum possible freezing rate [kg/s]      for an ice particle of diameter <code>Dᵢ</code> [m]. Evaluates to <code>0</code> if <code>T ≥ T_freeze</code>.</p><p><strong>Arguments</strong></p><ul><li><code>aps</code>: <a href="#CloudMicrophysics.Parameters.AirProperties"><code>CMP.AirProperties</code></a> </li><li><code>tps</code>: <code>TDP.ThermodynamicsParameters</code></li><li><code>velocity_params</code>: velocity parameterization, e.g. <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a></li><li><code>ρₐ</code>: air density [kg/m³]</li><li><code>Tₐ</code>: air temperature [K]</li><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li></ul><p>This rate represents the thermodynamic upper limit to collisional freezing,  which occurs when the heat transfer from the ice particle to the environment is  balanced by the latent heat of fusion.</p><p>From Eq (A7) in Musil (1970), [<a href="../References/#Musil1970">31</a>].</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L145-L164">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.compute_local_rime_density"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.compute_local_rime_density"><code>CloudMicrophysics.P3Scheme.compute_local_rime_density</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">compute_local_rime_density(velocity_params, ρₐ, T, state)</code></pre><p>Provides a function <code>ρ′_rim(Dᵢ, Dₗ)</code> that computes the local rime density [kg/m³]      for a given ice particle diameter <code>Dᵢ</code> [m] and liquid particle diameter <code>Dₗ</code> [m].</p><p><strong>Arguments</strong></p><ul><li><code>velocity_params</code>: velocity parameterization, e.g. <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a></li><li><code>ρₐ</code>: air density [kg/m³]</li><li><code>T</code>: temperature [K]</li><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li></ul><p><strong>Returns</strong></p><p>A function that computes the local rime density [kg/m³] using the equation:</p><p class="math-container">\[ρ&#39;_{rim} = a + b R_i + c R_i^2\]</p><p>where</p><p class="math-container">\[R_i = \frac{ 10^6 ⋅ D_{liq} ⋅ |v_{liq} - v_{ice}| }{ 2 T_{sfc} }\]</p><p>and <span>$T_{sfc}$</span> is the surface temperature [°C], <span>$D_{liq}$</span> is the liquid particle diameter [m], <span>$v_{liq/ice}$</span> is the particle terminal velocity [m/s]. So the units of <span>$R_i$</span> are [m² s⁻¹ °C⁻¹]. The units of <span>$ρ&#39;_{rim}$</span> are [kg/m³].</p><p>We assume for simplicity that <span>$T_{sfc}$</span> equals <span>$T$</span>, the ambient air temperature. For real graupel, <span>$T_{sfc}$</span> is slightly higher than <span>$T$</span> due to latent heat release  of freezing liquid particles onto the ice particle. Morrison &amp; Milbrandt (2013)  found little sensitivity to &quot;realistic&quot; increases in <span>$T_{sfc}$</span>.</p><p>See also <a href="#CloudMicrophysics.Parameters.LocalRimeDensity"><code>LocalRimeDensity</code></a>.</p><p><strong>Extended help</strong></p><p>Implementation follows Cober and List (1993), Eq. 16 and 17.  See also the P3 fortran code, <code>microphy_p3.f90</code>, Line 3315-3323,  which extends the range of the calculation to <span>$R_i ≤ 12$</span>, the upper limit of which  then equals the solid bulk ice density, <span>$ρ_ice = 916.7 kg/m^3$</span>.</p><p>Note that Morrison &amp; Milbrandt (2015) [<a href="../References/#MorrisonMilbrandt2015">23</a>] only uses this   parameterization for collisions with cloud droplets.  For rain drops, they use a value near the solid bulk ice density, <span>$ρ^* = 900 kg/m^3$</span>.  We do not consider this distinction, and use this parameterization for all liquid particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L187-L231">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.get_liquid_integrals"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.get_liquid_integrals"><code>CloudMicrophysics.P3Scheme.get_liquid_integrals</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">get_liquid_integrals(n, ∂ₜV, m_liq, ρ′_rim, liq_bounds; ∫kwargs...)</code></pre><p>Returns a function <code>liquid_integrals(Dᵢ)</code> that computes the liquid particle integrals      for a given ice particle diameter <code>Dᵢ</code>.</p><p><strong>Arguments</strong></p><ul><li><code>n</code>: liquid particle size distribution function <code>n(D)</code></li><li><code>∂ₜV</code>: volumetric collision rate integrand function <code>∂ₜV(Dᵢ, D)</code></li><li><code>m_liq</code>: liquid particle mass function <code>m_liq(D)</code></li><li><code>ρ′_rim</code>: local rime density function <code>ρ′_rim(Dᵢ, D)</code></li><li><code>liq_bounds</code>: integration bounds for liquid particles</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>∫kwargs...</code>: Additional keyword arguments passed to the quadrature rule</li></ul><p><strong>Notes</strong></p><p>The function <code>liquid_integrals(Dᵢ)</code> returns a tuple <code>(∂ₜN_col, ∂ₜM_col, ∂ₜB_col)</code>      of collision rates at <code>Dᵢ</code>, where:</p><ul><li><code>∂ₜN_col</code>: number collision rate [1/s]</li><li><code>∂ₜM_col</code>: mass collision rate [kg/s]  </li><li><code>∂ₜB_col</code>: rime volume collision rate [m³/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L247-L269">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.∫liquid_ice_collisions"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.∫liquid_ice_collisions"><code>CloudMicrophysics.P3Scheme.∫liquid_ice_collisions</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">∫liquid_ice_collisions(
    n_i, ∂ₜM_max, cloud_integrals, rain_integrals, ice_bounds; ∫kwargs...
)</code></pre><p>Computes the bulk collision rate integrands between ice and liquid particles.</p><p><strong>Arguments</strong></p><ul><li><code>n_i</code>: ice particle size distribution function n_i(D)</li><li><code>∂ₜM_max</code>: maximum freezing rate function ∂ₜM_max(Dᵢ)</li><li><code>cloud_integrals</code>: an instance of <a href="#CloudMicrophysics.P3Scheme.get_liquid_integrals"><code>get_liquid_integrals</code></a> for cloud particles</li><li><code>rain_integrals</code>: an instance of <a href="#CloudMicrophysics.P3Scheme.get_liquid_integrals"><code>get_liquid_integrals</code></a> for rain particles</li><li><code>ice_bounds</code>: integration bounds for ice particles, from <a href="#CloudMicrophysics.P3Scheme.integral_bounds"><code>integral_bounds</code></a></li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>∫kwargs...</code>: Additional keyword arguments passed to the quadrature rule</li></ul><p><strong>Returns</strong></p><p>A tuple of 8 integrands, see <a href="#CloudMicrophysics.P3Scheme.∫liquid_ice_collisions"><code>∫liquid_ice_collisions</code></a> for details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L287-L306">source</a></section><section><div><pre><code class="language-julia hljs">∫liquid_ice_collisions(
    state, logλ, psd_c, psd_r, L_c, N_c, L_r, N_r, 
    aps, tps, vel, ρₐ, T, m_liq
)</code></pre><p>Compute key liquid-ice collision rates and quantities. Used by <a href="#CloudMicrophysics.P3Scheme.bulk_liquid_ice_collision_sources"><code>bulk_liquid_ice_collision_sources</code></a>.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a></li><li><code>logλ</code>: the log of the slope parameter [log(1/m)]</li><li><code>psd_c</code>: <a href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CMP.CloudParticlePDF_SB2006</code></a></li><li><code>psd_r</code>: <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CMP.RainParticlePDF_SB2006</code></a></li><li><code>L_c</code>: cloud liquid water content [kg/m³]</li><li><code>N_c</code>: cloud liquid water number concentration [1/m³]</li><li><code>L_r</code>: rain water content [kg/m³]</li><li><code>N_r</code>: rain number concentration [1/m³]</li><li><code>aps</code>: <a href="#CloudMicrophysics.Parameters.AirProperties"><code>CMP.AirProperties</code></a></li><li><code>tps</code>: <code>TDP.ThermodynamicsParameters</code></li><li><code>vel</code>: velocity parameterization, e.g. <a href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CMP.Chen2022VelType</code></a></li><li><code>ρₐ</code>: air density [kg/m³]</li><li><code>T</code>: temperature [K]</li><li><code>m_liq</code>: liquid particle mass function <code>m_liq(D)</code></li></ul><p><strong>Returns</strong></p><p>A tuple <code>(QCFRZ, QCSHD, NCCOL, QRFRZ, QRSHD, NRCOL, ∫M_col, BCCOL, BRCOL, ∫𝟙_wet_M_col)</code>, where:</p><ol><li><code>QCFRZ</code> - Cloud mass collision rate due to freezing [kg/s]</li><li><code>QCSHD</code> - Cloud mass collision rate due to shedding [kg/s]</li><li><code>NCCOL</code> - Cloud number collision rate [1/s]</li><li><code>QRFRZ</code> - Rain mass collision rate due to freezing [kg/s]</li><li><code>QRSHD</code> - Rain mass collision rate due to shedding [kg/s]</li><li><code>NRCOL</code> - Rain number collision rate [1/s]</li><li><code>∫M_col</code> - Total collision rate [kg/s]</li><li><code>BCCOL</code> - Cloud rime volume source [m³/m³/s]</li><li><code>BRCOL</code> - Rain rime volume source [m³/m³/s]</li><li><code>∫𝟙_wet_M_col</code> - Wet growth indicator [kg/s]</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_processes.jl#L339-L375">source</a></section></details></article><h3 id="Supporting-integral-methods"><a class="docs-heading-anchor" href="#Supporting-integral-methods">Supporting integral methods</a><a id="Supporting-integral-methods-1"></a><a class="docs-heading-anchor-permalink" href="#Supporting-integral-methods" title="Permalink"></a></h3><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.integrate"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.integrate"><code>CloudMicrophysics.P3Scheme.integrate</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">integrate(f, a, b, quad = ChebyshevGauss(100))</code></pre><p>Approximate the definite integral ∫ₐᵇ f(x) dx using Chebyshev-Gauss quadrature of the first kind.</p><p><strong>Mathematical Background</strong></p><p>This method transforms the integral to the standard interval [-1, 1] and applies   Chebyshev-Gauss quadrature. The transformation is:</p><pre><code class="nohighlight hljs"> y = (2x - (a+b)) / (b-a)    →    x = (b-a)y/2 + (a+b)/2</code></pre><p>with Jacobian dx/dy = (b-a)/2.</p><p>The integral becomes:</p><pre><code class="nohighlight hljs"> ∫ₐᵇ f(x) dx = (b-a)/2 ∫₋₁¹ f(x(y)) dy</code></pre><p>Using the Chebyshev-Gauss quadrature identity:</p><pre><code class="nohighlight hljs"> ∫₋₁¹ g(y) dy = ∫₋₁¹ [g(y)√(1-y²)] / √(1-y²) dy ≈ (π/n) ∑ᵢ₌₁ⁿ g(yᵢ)√(1-yᵢ²)</code></pre><p>where yᵢ = cos((2i-1)π/(2n)) are the Chebyshev nodes of the first kind.</p><p><strong>Final Formula</strong></p><pre><code class="nohighlight hljs"> ∫ₐᵇ f(x) dx ≈ (b-a)π/(2n) ∑ᵢ₌₁ⁿ f(xᵢ)√(1-yᵢ²)</code></pre><p>where:</p><ul><li>yᵢ = cos((2i-1)π/(2n)) for i = 1, ..., n</li><li>xᵢ = (b-a)yᵢ/2 + (a+b)/2 </li><li>All quadrature weights are equal: π/n</li></ul><p><strong>Arguments</strong></p><ul><li><code>f</code>: Function to integrate</li><li><code>a</code>, <code>b</code>: Integration bounds. Note: if <code>a ≥ b</code>, or <code>a</code> or <code>b</code> is <code>NaN</code>, <code>zero(f(a))</code> is returned.</li></ul><p><strong>Keyword arguments</strong></p><ul><li><code>quad</code>: Quadrature scheme, default: <code>ChebyshevGauss(100)</code></li></ul><p><strong>Returns</strong></p><p>Approximation to the definite integral ∫ₐᵇ f(x) dx</p><p><strong>Notes</strong></p><p>This method achieves spectral convergence for smooth functions and is particularly   effective for analytic functions. The √(1-y²) weighting factor helps handle   functions with mild singularities at the interval endpoints.  Ref: https://en.wikipedia.org/wiki/Chebyshev–Gauss_quadrature</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_integral_properties.jl#L2-L50">source</a></section><section><div><pre><code class="language-julia hljs">integrate(f, bnds...; quad = ChebyshevGauss(100))</code></pre><p>Integrate the function <code>f</code> over each subinterval of the integration bounds, <code>bnds</code>.</p><p><strong>Arguments</strong></p><ul><li><code>f</code>: Function to integrate</li><li><code>bnds</code>: A tuple of bounds, <code>(a, b, c, d, ...)</code></li><li><code>quad</code>: Quadrature scheme, default: <code>ChebyshevGauss(100)</code></li></ul><p>The integral is computed as the sum of the integrals over each subinterval,  <code>(a, b), (b, c), (c, d), ...</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_integral_properties.jl#L78-L90">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.ChebyshevGauss"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.ChebyshevGauss"><code>CloudMicrophysics.P3Scheme.ChebyshevGauss</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ChebyshevGauss(n)</code></pre><p>Quadrature scheme for Chebyshev-Gauss quadrature of the first kind.</p><p><strong>Arguments</strong></p><ul><li><code>n</code>: Number of quadrature points</li></ul><p><strong>Available methods</strong></p><pre><code class="nohighlight hljs">node(::ChebyshevGauss, i::FT, n) where {FT}
weight(::ChebyshevGauss, i::FT, n) where {FT}
inv_weight_fun(::ChebyshevGauss, y)</code></pre><ul><li><code>node(quad, i, n)</code>: Return the <code>i</code>-th node of the <code>n</code>-point Chebyshev-Gauss quadrature scheme.</li><li><code>weight(quad, i, n)</code>: Return the <code>i</code>-th weight of the <code>n</code>-point Chebyshev-Gauss quadrature scheme.</li><li><code>inv_weight_fun(quad, y)</code>: Return the inverse of the weight function <code>w(x)</code>.</li></ul><p><strong>Mathematical Background</strong></p><p>A method to approximate the value of integrals of the kind</p><pre><code class="nohighlight hljs">∫_{-1}^{1} f(x) w(x) dx ≈ ∑_1^n f(x_i) wᵢ(x_i)</code></pre><p>where <code>w(x) = 1 / √(1 - x^2)</code> is the weight function, <code>x_i</code> are the nodes, and <code>wᵢ</code> are the weights.</p><p>If we are interested in only the integral of <code>f(x)</code>, we can instead integrate <code>g(x) = f(x) / w(x)</code>,</p><pre><code class="nohighlight hljs">∫_{-1}^{1} g(x) w(x) dx ≈ ∑_1^n g(x_i) wᵢ(x_i) = ∑_1^n f(x_i) wᵢ(x_i) / w(x_i)</code></pre><p><strong>References</strong></p><ul><li>https://en.wikipedia.org/wiki/Chebyshev–Gauss_quadrature</li><li>https://en.wikipedia.org/wiki/Gaussian_quadrature</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_integral_properties.jl#L96-L132">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.P3Scheme.integral_bounds"><a class="docstring-binding" href="#CloudMicrophysics.P3Scheme.integral_bounds"><code>CloudMicrophysics.P3Scheme.integral_bounds</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">integral_bounds(state::P3State, logλ; p, moment_order = 0)</code></pre><p>Compute the integration bounds for the P3 size distribution,</p><pre><code class="nohighlight hljs">Mⁿ = ∫_a^b Dⁿ * N′(D) dD = N₀ * ∫_a^b Dⁿ D^μ * exp(-λ * D) dD</code></pre><p>where <code>Mⁿ</code> is the <code>n</code>-th moment of the size distribution.  Here <code>n ≡ moment_order</code> and <code>a</code> and <code>b</code> are the integration bounds.  For a proper moment, <code>a=0</code> and <code>b=∞</code>. For the numerical integration, <code>a</code> and <code>b</code>  are determined by this function.</p><p><strong>Arguments</strong></p><ul><li><code>state</code>: <a href="#CloudMicrophysics.P3Scheme.P3State"><code>P3State</code></a> object</li><li><code>logλ</code>: The log of the slope parameter [log(1/m)]</li><li><code>p</code>: The integration bounds are set to the <code>p</code>-th and <code>1-p</code>-th quantiles of the size distribution.</li><li><code>moment_order</code>: For integrands proportional to moments of the size distribution,    <code>moment_order</code> can be used to indicate the order of the moment.    May provide more accurate bounds; thus more accurate integration.   Default: <code>moment_order = 0</code>.</li></ul><p><strong>Returns</strong></p><ul><li><code>bnds</code>: The integration bounds (a <code>Tuple</code>), for use in numerical integration (c.f. <a href="#CloudMicrophysics.P3Scheme.integrate"><code>integrate</code></a>).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/P3_integral_properties.jl#L142-L165">source</a></section></details></article><h1 id="Aerosol-model"><a class="docs-heading-anchor" href="#Aerosol-model">Aerosol model</a><a id="Aerosol-model-1"></a><a class="docs-heading-anchor-permalink" href="#Aerosol-model" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolModel"><a class="docstring-binding" href="#CloudMicrophysics.AerosolModel"><code>CloudMicrophysics.AerosolModel</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">A container for information on aerosol size distribution
and chemical properties.

The size distribution is a sum of lognormal internally mixed modes.
The chemical composition can be expressed using kappa parameter
or hygroscopicity parameter B.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolModel.jl#L1-L8">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolModel.Mode_B"><a class="docstring-binding" href="#CloudMicrophysics.AerosolModel.Mode_B"><code>CloudMicrophysics.AerosolModel.Mode_B</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Mode_B</code></pre><p>Represents the sizes and chemical composition of aerosol particles in one size distribution mode. The mode is assumed to be made up of internally mixed components and follow a lognormal size distribution. The chemical composition of aerosol particles in this mode is described using the parameters from Abdul-Razzak and Ghan 2000.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolModel.jl#L16-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolModel.Mode_κ"><a class="docstring-binding" href="#CloudMicrophysics.AerosolModel.Mode_κ"><code>CloudMicrophysics.AerosolModel.Mode_κ</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Mode_κ</code></pre><p>Represents the sizes and chemical composition of aerosol particles in one size distribution mode. The mode is assumed to be made up of internally mixed components and follow a lognormal size distribution. The chemical composition of aerosol particles in this mode is described using the parameters from Petters and Kreidenweis 2007.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolModel.jl#L51-L60">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolModel.AerosolDistribution"><a class="docstring-binding" href="#CloudMicrophysics.AerosolModel.AerosolDistribution"><code>CloudMicrophysics.AerosolModel.AerosolDistribution</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AerosolDistribution</code></pre><p>Represents the aerosol size distribution as a tuple with different modes. All modes have to either be of type Mode<em>B (Abdul-Razzak and Ghan 2000) or of type Mode</em>κ (Petters and Kreidenweis 2007).</p><p><strong>Constructors</strong></p><pre><code class="nohighlight hljs">AerosolDistribution(modes::T)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolModel.jl#L82-L92">source</a></section></details></article><h1 id="Aerosol-activation"><a class="docs-heading-anchor" href="#Aerosol-activation">Aerosol activation</a><a id="Aerosol-activation-1"></a><a class="docs-heading-anchor-permalink" href="#Aerosol-activation" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation"><code>CloudMicrophysics.AerosolActivation</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Aerosol activation scheme, which includes:</code></pre><ul><li>mean hygroscopicity for each mode of the aerosol size distribution</li><li>critical supersaturation for each mode of the aerosol size distribution</li><li>maximum supersaturation</li><li>total number of particles actived</li><li>total mass of particles actived</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L1-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation.mean_hygroscopicity_parameter"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation.mean_hygroscopicity_parameter"><code>CloudMicrophysics.AerosolActivation.mean_hygroscopicity_parameter</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">mean_hygroscopicity_parameter(ap, ad)</code></pre><ul><li><code>ap</code> - a struct with aerosol activation parameters</li><li><code>ad</code> - a struct with aerosol distribution (B or κ based)</li></ul><p>Returns a tuple of hygroscopicity parameters (one tuple element for each aerosol size distribution mode). The tuple is computed either as mass-weighted B parameters (Abdul-Razzak and Ghan 2000) or volume weighted kappa parameters (Petters and Kreidenweis 2007). Implemented via a dispatch based on aerosol distribution mode type.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L41-L53">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation.max_supersaturation"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation.max_supersaturation"><code>CloudMicrophysics.AerosolActivation.max_supersaturation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">max_supersaturation(ap, ad, aip, tps, T, p, w, q_tot, q_liq, q_ice, N_liq, N_ice)</code></pre><ul><li><code>ap</code>  - a struct with aerosol activation parameters</li><li><code>ad</code>  - a struct with aerosol distribution</li><li><code>aip</code> - a struct with air parameters</li><li><code>tps</code> - a struct with thermodynamics parameters</li><li><code>T</code>   - air temperature</li><li><code>p</code>   - air pressure</li><li><code>w</code>   - vertical velocity</li><li><code>q_tot</code> - total water specific content</li><li><code>q_liq</code> - liquid water specific content</li><li><code>q_ice</code> - ice water specific content</li><li><code>N_liq</code> - liquid water number concentration</li><li><code>N_ice</code> - ice water number concentration</li></ul><p>Returns the maximum supersaturation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L119-L136">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation.N_activated_per_mode"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation.N_activated_per_mode"><code>CloudMicrophysics.AerosolActivation.N_activated_per_mode</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">N_activated_per_mode(ap, ad, aip, tps, T, p, w, q_tot, q_liq, q_ice, N_liq, N_ice)</code></pre><ul><li><code>ap</code>  - a struct with aerosol activation parameters</li><li><code>ad</code>  - aerosol distribution struct</li><li><code>aip</code> - a struct with air parameters</li><li><code>tps</code> - a struct with thermodynamics parameters</li><li><code>T</code>   - air temperature</li><li><code>p</code>   - air pressure</li><li><code>w</code>   - vertical velocity</li><li><code>q_tot</code> - total water specific content</li><li><code>q_liq</code> - liquid water specific content</li><li><code>q_ice</code> - ice water specific content</li><li><code>N_liq</code> - liquid water number concentration</li><li><code>N_ice</code> - ice water number concentration</li></ul><p>Returns the number of activated aerosol particles in each aerosol size distribution mode.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L215-L233">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation.M_activated_per_mode"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation.M_activated_per_mode"><code>CloudMicrophysics.AerosolActivation.M_activated_per_mode</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">M_activated_per_mode(ap, ad, aip, tps, T, p, w, q_tot, q_liq, q_ice, N_liq, N_ice)</code></pre><ul><li><code>ap</code>  - a struct with aerosol activation parameters</li><li><code>ad</code>  - a struct with aerosol distribution parameters</li><li><code>aip</code> - a struct with air parameters</li><li><code>tps</code> - a struct with thermodynamics parameters</li><li><code>T</code> - air temperature</li><li><code>p</code> - air pressure</li><li><code>w</code> - vertical velocity</li><li><code>q_tot</code> - total water specific content</li><li><code>q_liq</code> - liquid water specific content</li><li><code>q_ice</code> - ice water specific content</li><li><code>N_liq</code> - liquid water number concentration</li><li><code>N_ice</code> - ice water number concentration</li></ul><p>Returns the mass of activated aerosol particles per mode of the aerosol size distribution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L274-L292">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation.total_N_activated"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation.total_N_activated"><code>CloudMicrophysics.AerosolActivation.total_N_activated</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">total_N_activated(ap, ad, aip, tps, T, p, w, q_tot, q_liq, q_ice, N_liq, N_ice)</code></pre><ul><li><code>ap</code> - a struct with aerosol activation parameters</li><li><code>ad</code> - aerosol distribution struct</li><li><code>aip</code> - a struct with air properties</li><li><code>tps</code> - a struct with thermodynamics parameters</li><li><code>T</code> - air temperature</li><li><code>p</code> - air pressure</li><li><code>w</code> - vertical velocity</li><li><code>q_tot</code> - total water specific content</li><li><code>q_liq</code> - liquid water specific content</li><li><code>q_ice</code> - ice water specific content</li><li><code>N_liq</code> - liquid water number concentration</li><li><code>N_ice</code> - ice water number concentration</li></ul><p>Returns the total number of activated aerosol particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L340-L357">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.AerosolActivation.total_M_activated"><a class="docstring-binding" href="#CloudMicrophysics.AerosolActivation.total_M_activated"><code>CloudMicrophysics.AerosolActivation.total_M_activated</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">total_M_activated(ap, ad, aip, tps, T, p, w, q_tot, q_liq, q_ice, N_liq, N_ice)</code></pre><ul><li><code>ap</code> - a struct with aerosol activation parameters</li><li><code>ad</code> - aerosol distribution struct</li><li><code>aip</code> - a struct with air properties</li><li><code>tps</code> - a struct with thermodynamics parameters</li><li><code>T</code> - air temperature</li><li><code>p</code> - air pressure</li><li><code>w</code> - vertical velocity</li><li><code>q_tot</code> - total water specific content</li><li><code>q_liq</code> - liquid water specific content</li><li><code>q_ice</code> - ice water specific content</li><li><code>N_liq</code> - liquid water number concentration</li><li><code>N_ice</code> - ice water number concentration</li></ul><p>Returns the total mass of activated aerosol particles.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/AerosolActivation.jl#L389-L406">source</a></section></details></article><h1 id="Artifact-calling"><a class="docs-heading-anchor" href="#Artifact-calling">Artifact calling</a><a id="Artifact-calling-1"></a><a class="docs-heading-anchor-permalink" href="#Artifact-calling" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.ArtifactCalling"><a class="docstring-binding" href="#CloudMicrophysics.ArtifactCalling"><code>CloudMicrophysics.ArtifactCalling</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Call artifacts from Artifacts.toml</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/ArtifactCalling.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.ArtifactCalling.AIDA_ice_nucleation"><a class="docstring-binding" href="#CloudMicrophysics.ArtifactCalling.AIDA_ice_nucleation"><code>CloudMicrophysics.ArtifactCalling.AIDA_ice_nucleation</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">AIDA_ice_nucleation(data_file_name)</code></pre><ul><li><code>data_file_name</code> - name of the data file on Caltech box.</li></ul><p>Returns the filepath of the data file in Caltech box.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/ArtifactCalling.jl#L10-L16">source</a></section></details></article><h1 id="Heterogeneous-ice-nucleation-2"><a class="docs-heading-anchor" href="#Heterogeneous-ice-nucleation-2">Heterogeneous ice nucleation</a><a class="docs-heading-anchor-permalink" href="#Heterogeneous-ice-nucleation-2" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation"><code>CloudMicrophysics.HetIceNucleation</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Parameterization for heterogenous cloud ice nucleation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.dust_activated_number_fraction"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.dust_activated_number_fraction"><code>CloudMicrophysics.HetIceNucleation.dust_activated_number_fraction</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">dust_activated_number_fraction(dust, ip, Si, T)</code></pre><ul><li><code>dust</code> - a struct with dust parameters</li><li><code>ip</code> - a struct with cloud ice nucleation parameters</li><li><code>Si</code> - ice saturation ratio</li><li><code>T</code> - air temperature [K]</li></ul><p>Returns the number fraction of mineral dust particles acting as deposition nuclei (n ice nuclei / n dust particles). From Mohler et al 2006 Table 2 (averages from different measurements excluding those where a was not measured)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L17-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.MohlerDepositionRate"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.MohlerDepositionRate"><code>CloudMicrophysics.HetIceNucleation.MohlerDepositionRate</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">MohlerDepositionRate(dust, ip, S_i, T, dSi_dt, N_aer)</code></pre><ul><li><code>dust</code> - a struct with dust parameters</li><li><code>ip</code> - a struct with cloud ice nucleation parameters</li><li><code>Si</code> - ice saturation</li><li><code>T</code> - ambient temperature</li><li><code>dSi_dt</code> - change in ice saturation over time</li><li><code>N_aer</code> - number of unactivated aerosols</li></ul><p>Returns the cloud ice nucleation rate from deposition. From Mohler et al 2006 equation 5.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L44-L56">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.deposition_J"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.deposition_J"><code>CloudMicrophysics.HetIceNucleation.deposition_J</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">deposition_J(dust, Δa_w)</code></pre><ul><li><code>dust</code> - a struct with dust parameters</li><li><code>Δa_w</code> - change in water activity [unitless].</li></ul><p>Returns the deposition nucleation rate coefficient, <code>J</code>, in m^-2 s^-1 for different minerals in liquid droplets. The free parameters <code>m</code> and <code>c</code> are derived from China et al (2017) see DOI: 10.1002/2016JD025817 Returns zero for unsupported aerosol types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L72-L83">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.ABIFM_J"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.ABIFM_J"><code>CloudMicrophysics.HetIceNucleation.ABIFM_J</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ABIFM_J(dust, Δa_w)</code></pre><ul><li><code>dust</code> - a struct with dust parameters</li><li><code>Δa_w</code> - change in water activity [unitless].</li></ul><p>Returns the immersion freezing nucleation rate coefficient, <code>J</code>, in m^-2 s^-1 for different minerals in liquid droplets. The free parameters <code>m</code> and <code>c</code> are taken from Knopf &amp; Alpert 2013 see DOI: 10.1039/C3FD00035D Returns zero for unsupported aerosol types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L106-L117">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.P3_deposition_N_i"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.P3_deposition_N_i"><code>CloudMicrophysics.HetIceNucleation.P3_deposition_N_i</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">P3_deposition_N_i(ip, T)</code></pre><ul><li><code>ip</code> - a struct with ice nucleation parameters,</li><li><code>T</code> - air temperature [K].</li></ul><p>Returns the number of ice crystals nucleated via deposition nucleation with units of m^-3. From Thompson et al 2004 eqn 2 as used in Morrison &amp; Milbrandt 2015.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L134-L142">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.P3_het_N_i"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.P3_het_N_i"><code>CloudMicrophysics.HetIceNucleation.P3_het_N_i</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">P3_het_N_i(ip, T, N_l, B, V_l, a, Δt)</code></pre><ul><li><code>ip</code> - a struct with ice nucleation parameters,</li><li><code>T</code> - air temperature [K],</li><li><code>N_l</code> - number of droplets [m^-3],</li><li><code>B</code> - water-type dependent parameter [cm^-3 s^-1],</li><li><code>V_l</code> - volume of droplets to be frozen [m^3],</li><li><code>a</code> - empirical parameter [C^-1],</li><li><code>Δt</code> - timestep.</li></ul><p>Returns the number of ice nucleated within Δt via heterogeneous freezing with units of m^-3. From Pruppacher &amp; Klett 1997 eqn (9-51) as used in Morrison &amp; Milbrandt 2015.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L156-L170">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.INP_concentration_frequency"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.INP_concentration_frequency"><code>CloudMicrophysics.HetIceNucleation.INP_concentration_frequency</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">INP_concentration_frequency(params,INPC,T)</code></pre><ul><li><code>params</code> - a struct with INPC(T) distribution parameters</li><li><code>INPC</code> - concentration of ice nucleating particles [m^-3]</li><li><code>T</code> - air temperature [K]</li></ul><p>Returns the relative frequency of a given INP concentration, depending on the temperature. Based on Frostenberg et al., 2023. See DOI: 10.5194/acp-23-10883-2023</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L187-L197">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HetIceNucleation.INP_concentration_mean"><a class="docstring-binding" href="#CloudMicrophysics.HetIceNucleation.INP_concentration_mean"><code>CloudMicrophysics.HetIceNucleation.INP_concentration_mean</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">INP_concentration_mean(params, T)</code></pre><ul><li><code>params</code> - a struct with INPC(T) distribution parameters</li><li><code>T</code> - air temperature [K]</li></ul><p>Returns the logarithm of mean INP concentration (in m^-3), depending on the temperature. Based on the function μ(T) in Frostenberg et al., 2023. See DOI: 10.5194/acp-23-10883-2023</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L214-L222">source</a></section></details></article><h1 id="Homogeneous-ice-nucleation"><a class="docs-heading-anchor" href="#Homogeneous-ice-nucleation">Homogeneous ice nucleation</a><a id="Homogeneous-ice-nucleation-1"></a><a class="docs-heading-anchor-permalink" href="#Homogeneous-ice-nucleation" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HomIceNucleation"><a class="docstring-binding" href="#CloudMicrophysics.HomIceNucleation"><code>CloudMicrophysics.HomIceNucleation</code></a> — <span class="docstring-category">Module</span></summary><section><div><p>Parameterization for homogeneous cloud ice nucleation</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L232-L234">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HomIceNucleation.homogeneous_J_cubic"><a class="docstring-binding" href="#CloudMicrophysics.HomIceNucleation.homogeneous_J_cubic"><code>CloudMicrophysics.HomIceNucleation.homogeneous_J_cubic</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">homogeneous_J_cubic(ip, Δa_w)</code></pre><ul><li><code>ip</code> - a struct with cloud ice nucleation parameters</li><li><code>Δa_w</code> - change in water activity [-].</li></ul><p>Returns the homogeneous freezing nucleation rate coefficient, <code>J</code>, in m^-3 s^-1 for sulphuric acid solutions. Parameterization based on Koop 2000, DOI: 10.1038/35020537.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L242-L251">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.HomIceNucleation.homogeneous_J_linear"><a class="docstring-binding" href="#CloudMicrophysics.HomIceNucleation.homogeneous_J_linear"><code>CloudMicrophysics.HomIceNucleation.homogeneous_J_linear</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">homogeneous_J_linear(ip, Δa_w)</code></pre><ul><li><code>ip</code> - a struct with ice nucleation parameters</li><li><code>Δa_w</code> - change in water activity [-].</li></ul><p>Returns the homogeneous freezing nucleation rate coefficient, <code>J</code>, in m^-3 s^-1 for sulphuric acid solutions. Parameterization derived from a linear fit of the Koop 2000 parameterization, DOI: 10.1038/35020537.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/IceNucleation.jl#L262-L271">source</a></section></details></article><h1 id="Cloud-diagnostics"><a class="docs-heading-anchor" href="#Cloud-diagnostics">Cloud diagnostics</a><a id="Cloud-diagnostics-1"></a><a class="docs-heading-anchor-permalink" href="#Cloud-diagnostics" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.CloudDiagnostics"><a class="docstring-binding" href="#CloudMicrophysics.CloudDiagnostics"><code>CloudMicrophysics.CloudDiagnostics</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Cloud diagnostics</code></pre><ul><li>radar reflectivity (1-moment and 2-moment)</li><li>effective radius  (1-moment and 2-moment)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/CloudDiagnostics.jl#L1-L6">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.CloudDiagnostics.radar_reflectivity_1M"><a class="docstring-binding" href="#CloudMicrophysics.CloudDiagnostics.radar_reflectivity_1M"><code>CloudMicrophysics.CloudDiagnostics.radar_reflectivity_1M</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">radar_reflectivity_1M(precip, q, ρ)</code></pre><ul><li><code>precip</code> - struct with 1-moment microphysics rain free parameters</li><li><code>q</code> - specific content of rain</li><li><code>ρ</code> - air density</li></ul><p>Returns logarithmic radar reflectivity for the 1-moment microphysics based on the assumed rain particle size distribution. Normalized by the reflectivty of 1 millimiter drop in a volume of 1m3. The values are clipped at -150 dBZ.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/CloudDiagnostics.jl#L17-L28">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.CloudDiagnostics.radar_reflectivity_2M"><a class="docstring-binding" href="#CloudMicrophysics.CloudDiagnostics.radar_reflectivity_2M"><code>CloudMicrophysics.CloudDiagnostics.radar_reflectivity_2M</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">radar_reflectivity_2M(structs, q_lcl, q_rai, N_lcl, N_rai, ρ_air)

- `structs` - structs microphysics 2-moment with SB2006 cloud droplets
              and raindrops size distributions parameters
- `q_lcl` - cloud liquid water specific content
- `q_rai` - rain water specific content
- `N_lcl` - cloud droplet number density
- `N_rai` - rain droplet number density
- `ρ_air` - air density</code></pre><p>Returns logarithmic radar reflectivity for the 2-moment microphysics SB2006 based on the assumed cloud and rain particle size distribuions. Normalized by the reflectivty of 1 millimiter drop in a volume of 1m3. The values are clipped at -150 dBZ.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/CloudDiagnostics.jl#L46-L61">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.CloudDiagnostics.effective_radius_const"><a class="docstring-binding" href="#CloudMicrophysics.CloudDiagnostics.effective_radius_const"><code>CloudMicrophysics.CloudDiagnostics.effective_radius_const</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">effective_radius_const(cloud_params)</code></pre><ul><li>cloud_params - a struct with cloud liquid or cloud ice parameters</li></ul><p>Returns a constant assumed effective radius for clouds</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/CloudDiagnostics.jl#L174-L180">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.CloudDiagnostics.effective_radius_Liu_Hallet_97"><a class="docstring-binding" href="#CloudMicrophysics.CloudDiagnostics.effective_radius_Liu_Hallet_97"><code>CloudMicrophysics.CloudDiagnostics.effective_radius_Liu_Hallet_97</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">effective_radius_Liu_Hallet_97(q_lcl, q_rai, N_lcl, N_rai, ρ_air, ρ_w)

- `q_lcl` - cloud water specific content
- `q_rai` - rain water specific content
- `N_lcl` - cloud droplet number density
- `N_rai` - rain droplet number density
- `ρ_air` - air density
- `ρ_w` - water density</code></pre><p>Returns effective radius using the &quot;1/3&quot; power law from Liu and Hallett (1997). If not provided by the user, it is assumed that there is no rain present and that the cloud droplet number concentration is 100 1/cm3.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/CloudDiagnostics.jl#L126-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.CloudDiagnostics.effective_radius_2M"><a class="docstring-binding" href="#CloudMicrophysics.CloudDiagnostics.effective_radius_2M"><code>CloudMicrophysics.CloudDiagnostics.effective_radius_2M</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">effective_radius_2M(structs, q_lcl, q_rai, N_lcl, N_rai, ρ_air)

- `structs` - structs with SB2006 cloud droplets and raindrops
            size distribution parameters
- `q_lcl` - cloud liquid water specific content
- `q_rai` - rain water specific content
- `N_lcl` - cloud droplet number density
- `N_rai` - rain droplet number density
- `ρ_air` - air density</code></pre><p>Returns effective radius for the 2-moment microphysics scheme. Computed based on the assumed cloud and rain particle size distributions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/CloudDiagnostics.jl#L86-L99">source</a></section></details></article><h1 id="Common-utility-functions"><a class="docs-heading-anchor" href="#Common-utility-functions">Common utility functions</a><a id="Common-utility-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Common-utility-functions" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common"><a class="docstring-binding" href="#CloudMicrophysics.Common"><code>CloudMicrophysics.Common</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Module for functions shared by different parameterizations.</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L1-L3">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.G_func_liquid"><a class="docstring-binding" href="#CloudMicrophysics.Common.G_func_liquid"><code>CloudMicrophysics.Common.G_func_liquid</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">G_func_liquid(air_props, tps, T)</code></pre><p>Utility function combining thermal conductivity and vapor diffusivity effects for vapor to liquid phase change.</p><p><strong>Arguments</strong></p><ul><li><code>air_props</code>: air parameters struct (contains <code>K_therm</code>, <code>D_vapor</code>)</li><li><code>tps</code>: thermodynamics parameters struct</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>G function for liquid [kg/m²/s/Pa]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L33-L46">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.G_func_ice"><a class="docstring-binding" href="#CloudMicrophysics.Common.G_func_ice"><code>CloudMicrophysics.Common.G_func_ice</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">G_func_ice(air_props, tps, T)</code></pre><p>Utility function combining thermal conductivity and vapor diffusivity effects for vapor to ice phase change.</p><p><strong>Arguments</strong></p><ul><li><code>air_props</code>: air parameters struct (contains <code>K_therm</code>, <code>D_vapor</code>)</li><li><code>tps</code>: thermodynamics parameters struct</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>G function for ice [kg/m²/s/Pa]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L60-L73">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.logistic_function"><a class="docstring-binding" href="#CloudMicrophysics.Common.logistic_function"><code>CloudMicrophysics.Common.logistic_function</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">logistic_function(x, x_0, k)</code></pre><p>Returns the value of the logistic function for smooth transitioning at thresholds. This is a normalized curve changing from 0 to 1 while x varies from 0 to Inf (for positive k).</p><p>For x &lt; 0 the value at x = 0 is returned. For x_0 = 0, H(x) is returned.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: independent variable</li><li><code>x_0</code>: threshold value for x</li><li><code>k</code>: growth rate of the curve, characterizing steepness of the transition</li></ul><p><strong>Returns</strong></p><ul><li>Logistic function value (dimensionless, range [0,1])</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L92-L107">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.logistic_function_integral"><a class="docstring-binding" href="#CloudMicrophysics.Common.logistic_function_integral"><code>CloudMicrophysics.Common.logistic_function_integral</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">logistic_function_integral(x, x_0, k)</code></pre><p>Returns the value of the indefinite integral of the logistic function, for smooth transitioning of piecewise linear profiles at thresholds.</p><p>This curve smoothly transitions from y = 0 for 0 &lt; x &lt; x<em>0 to y = x - x</em>0 for x_0 &lt; x.</p><p><strong>Arguments</strong></p><ul><li><code>x</code>: independent variable</li><li><code>x_0</code>: threshold value for x</li><li><code>k</code>: growth rate of the logistic function, characterizing steepness of the transition</li></ul><p><strong>Returns</strong></p><ul><li>Integral of logistic function (same units as x)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L124-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.H2SO4_soln_saturation_vapor_pressure"><a class="docstring-binding" href="#CloudMicrophysics.Common.H2SO4_soln_saturation_vapor_pressure"><code>CloudMicrophysics.Common.H2SO4_soln_saturation_vapor_pressure</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">H2SO4_soln_saturation_vapor_pressure(prs, x, T)</code></pre><p>Returns the saturation vapor pressure above a sulphuric acid solution droplet.</p><p><strong>Arguments</strong></p><ul><li><code>prs</code>: H2SO4 solution free parameters struct</li><li><code>x</code>: weight percent sulphuric acid (dimensionless, e.g., 0.1 for 10%)</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>Saturation vapor pressure [Pa]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L157-L169">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.a_w_xT"><a class="docstring-binding" href="#CloudMicrophysics.Common.a_w_xT"><code>CloudMicrophysics.Common.a_w_xT</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">a_w_xT(H2SO4_prs, tps, x, T)</code></pre><p>Returns water activity of H2SO4 containing droplet.</p><p><strong>Arguments</strong></p><ul><li><code>H2SO4_prs</code>: H2SO4 solution free parameters struct</li><li><code>tps</code>: thermodynamics parameters struct</li><li><code>x</code>: weight percent sulphuric acid (dimensionless, e.g., 0.1 for 10%)</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>Water activity (dimensionless)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L196-L209">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.a_w_eT"><a class="docstring-binding" href="#CloudMicrophysics.Common.a_w_eT"><code>CloudMicrophysics.Common.a_w_eT</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">a_w_eT(tps, e, T)</code></pre><p>Returns water activity of pure water droplet. Valid when droplet is in equilibrium with surroundings.</p><p><strong>Arguments</strong></p><ul><li><code>tps</code>: thermodynamics parameters struct</li><li><code>e</code>: partial pressure of water [Pa]</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>Water activity (dimensionless, equivalent to relative humidity)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L218-L231">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.a_w_ice"><a class="docstring-binding" href="#CloudMicrophysics.Common.a_w_ice"><code>CloudMicrophysics.Common.a_w_ice</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">a_w_ice(tps, T)</code></pre><p>Returns water activity of ice.</p><p><strong>Arguments</strong></p><ul><li><code>tps</code>: thermodynamics parameters struct</li><li><code>T</code>: air temperature [K]</li></ul><p><strong>Returns</strong></p><ul><li>Water activity of ice (dimensionless)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L237-L248">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.Chen2022_vel_coeffs"><a class="docstring-binding" href="#CloudMicrophysics.Common.Chen2022_vel_coeffs"><code>CloudMicrophysics.Common.Chen2022_vel_coeffs</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Chen2022_vel_coeffs(coeffs, ρₐ)
Chen2022_vel_coeffs(coeffs, ρₐ, ρᵢ)</code></pre><p>Compute the coefficients for the Chen 2022 terminal velocity parametrization.</p><p><strong>Arguments</strong></p><ul><li><code>coeffs</code>: a struct with terminal velocity free parameters<ul><li><a href="#CloudMicrophysics.Parameters.Chen2022VelTypeRain"><code>CMP.Chen2022VelTypeRain</code></a>: Fetch from Table B1</li><li><a href="#CloudMicrophysics.Parameters.Chen2022VelTypeSmallIce"><code>CMP.Chen2022VelTypeSmallIce</code></a>: Fetch from Table B2</li><li><a href="#CloudMicrophysics.Parameters.Chen2022VelTypeLargeIce"><code>CMP.Chen2022VelTypeLargeIce</code></a>: Fetch from Table B4</li></ul></li><li><code>ρₐ</code>: air density [kg/m³]</li><li><code>ρᵢ</code>: apparent density of ice particles [kg/m³],  only used for <a href="#CloudMicrophysics.Parameters.Chen2022VelTypeSmallIce"><code>CMP.Chen2022VelTypeSmallIce</code></a> and <a href="#CloudMicrophysics.Parameters.Chen2022VelTypeLargeIce"><code>CMP.Chen2022VelTypeLargeIce</code></a></li></ul><p>See [<a href="../References/#Chen2022">12</a>] for more details.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L255-L271">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.Chen2022_monodisperse_pdf"><a class="docstring-binding" href="#CloudMicrophysics.Common.Chen2022_monodisperse_pdf"><code>CloudMicrophysics.Common.Chen2022_monodisperse_pdf</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Chen2022_monodisperse_pdf(a, b, c)</code></pre><p><strong>Arguments</strong></p><ul><li><code>a</code>, <code>b</code>, <code>c</code>: free parameters defined in [<a href="../References/#Chen2022">12</a>]</li></ul><p><strong>Returns</strong></p><ul><li><code>pdf(D)</code>: The monodisperse particle distribution function as a function of diameter, <code>D</code>, in [m/s].</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L330-L338">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.Chen2022_exponential_pdf"><a class="docstring-binding" href="#CloudMicrophysics.Common.Chen2022_exponential_pdf"><code>CloudMicrophysics.Common.Chen2022_exponential_pdf</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">Chen2022_exponential_pdf(a, b, c, λ_inv, k)</code></pre><p>Returns the addends of the bulk fall speed of rain or ice particles following Chen et al. (2022), https://doi.org/10.1016/j.atmosres.2022.106171. Assumes exponential size distribution (μ=0).</p><p><strong>Arguments</strong></p><ul><li><code>a</code>, <code>b</code>, <code>c</code>: free parameters defined in Chen et al. (2022)</li><li><code>λ_inv</code>: inverse of the size distribution parameter [m]</li><li><code>k</code>: size distribution moment for which we compute the bulk fall speed</li></ul><p><strong>Returns</strong></p><ul><li>Bulk fall speed component [m/s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L343-L357">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.volume_sphere_D"><a class="docstring-binding" href="#CloudMicrophysics.Common.volume_sphere_D"><code>CloudMicrophysics.Common.volume_sphere_D</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">volume_sphere_D(D)</code></pre><p>Calculate the volume of a sphere with diameter D.</p><p class="math-container">\[V = D^3 * π / 6\]</p><p>See also <a href="#CloudMicrophysics.Common.volume_sphere_R"><code>volume_sphere_R</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L408-L418">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.volume_sphere_R"><a class="docstring-binding" href="#CloudMicrophysics.Common.volume_sphere_R"><code>CloudMicrophysics.Common.volume_sphere_R</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">volume_sphere_R(R)</code></pre><p>Calculate the volume of a sphere with radius R.</p><p class="math-container">\[V = (2R)^3 * π / 6\]</p><p>See also <a href="#CloudMicrophysics.Common.volume_sphere_D"><code>volume_sphere_D</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L421-L431">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Common.ventilation_factor"><a class="docstring-binding" href="#CloudMicrophysics.Common.ventilation_factor"><code>CloudMicrophysics.Common.ventilation_factor</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">ventilation_factor(vent, aps, v_term)</code></pre><p>Returns a function that computes the ventilation factor for a particle as a function of its diameter.</p><p>The ventilation factor parameterizes the increase in the mass and heat exchange for falling particles. See e.g., Seifert and Beheng (2006), https://doi.org/10.1007/s00703-005-0112-4, Eq. (24).</p><p><strong>Arguments</strong></p><ul><li><code>vent</code>: ventilation parameterization constants (contains <code>aᵥ</code>, <code>bᵥ</code>)</li><li><code>aps</code>: air properties parameters (contains <code>ν_air</code>, <code>D_vapor</code>)</li><li><code>v_term</code>: function <code>v_term(D)</code> that returns terminal velocity [m/s] for diameter D [m]</li></ul><p><strong>Returns</strong></p><ul><li><code>F_v(D)</code>: ventilation factor function (dimensionless)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/Common.jl#L434-L449">source</a></section></details></article><h1 id="Parameters-2"><a class="docs-heading-anchor" href="#Parameters-2">Parameters</a><a class="docs-heading-anchor-permalink" href="#Parameters-2" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters"><code>CloudMicrophysics.Parameters</code></a> — <span class="docstring-category">Module</span></summary><section><div><pre><code class="language-julia hljs">Parameters</code></pre><p>A module for CloudMicrophysics.jl free parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Parameters.jl#L1-L5">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParametersType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParametersType"><code>CloudMicrophysics.Parameters.ParametersType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ParametersType{FT}</code></pre><p>The top-level super-type for all cloud microphysics parameters</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L1-L5">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AerosolType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AerosolType"><code>CloudMicrophysics.Parameters.AerosolType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AerosolType{FT}</code></pre><p>The top-level super-type for all aerosol properties</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L10-L14">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AerosolDistributionType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AerosolDistributionType"><code>CloudMicrophysics.Parameters.AerosolDistributionType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AerosolDistributionType</code></pre><p>The top-level super-type for all aerosol distribution types</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L17-L21">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.CloudCondensateType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.CloudCondensateType"><code>CloudMicrophysics.Parameters.CloudCondensateType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CloudCondensateType{FT}</code></pre><p>The top-level super-type for cloud condensate types (liquid and ice)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L24-L28">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.PrecipitationType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.PrecipitationType"><code>CloudMicrophysics.Parameters.PrecipitationType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">PrecipitationType{FT}</code></pre><p>The top-level super-type for precipitation types (rain and snow)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L31-L35">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.TerminalVelocityType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.TerminalVelocityType"><code>CloudMicrophysics.Parameters.TerminalVelocityType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TerminalVelocityType{FT}</code></pre><p>The top-level super-type for terminal velocity parameterizations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L38-L42">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Precipitation2MType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Precipitation2MType"><code>CloudMicrophysics.Parameters.Precipitation2MType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Precipitation2MType</code></pre><p>The top-level super-type for 2-moment precipitation parameterizations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AbstractTypes.jl#L45-L49">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AirProperties"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AirProperties"><code>CloudMicrophysics.Parameters.AirProperties</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AirProperties{FT}</code></pre><p>Parameters with air properties.</p><p><strong>Fields</strong></p><ul><li><p><code>K_therm</code>: thermal conductivity of air [w/m/K]</p></li><li><p><code>D_vapor</code>: diffusivity of water vapor [m2/s]</p></li><li><p><code>ν_air</code>: kinematic viscosity of air [m2/s]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AirProperties.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.WaterProperties"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.WaterProperties"><code>CloudMicrophysics.Parameters.WaterProperties</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">WaterProperties{FT}</code></pre><p>Parameters with water properties.</p><p><strong>Fields</strong></p><ul><li><p><code>ρw</code>: density of liquid water [kg/m3]</p></li><li><p><code>ρi</code>: density of ice [kg/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/WaterProperties.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ArizonaTestDust"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ArizonaTestDust"><code>CloudMicrophysics.Parameters.ArizonaTestDust</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ArizonaTestDust{FT}</code></pre><p>Parameters for Arizona Test Dust from Mohler et al, 2006. DOI: 10.5194/acp-6-3007-2006</p><p><strong>Fields</strong></p><ul><li><p><code>S₀_warm</code>: S₀ for T &gt; T_thr [-]</p></li><li><p><code>S₀_cold</code>: S₀ for T &lt; T_thr [-]</p></li><li><p><code>a_warm</code>: a for T &gt; T_thr [-]</p></li><li><p><code>a_cold</code>: a for T &lt; T_thr [-]</p></li><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolATD.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.DesertDust"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.DesertDust"><code>CloudMicrophysics.Parameters.DesertDust</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">DesertDust{FT}</code></pre><p>Parameters for desert dust from Knopf and Alpert 2013 DOI: 10.1039/C3FD00035D and from Mohler et al, 2006 DOI: 10.5194/acp-6-3007-2006</p><p><strong>Fields</strong></p><ul><li><p><code>S₀_warm</code>: S₀ for T &gt; T_thr [-]</p></li><li><p><code>S₀_cold</code>: S₀ for T &lt; T_thr [-]</p></li><li><p><code>a_warm</code>: a for T &gt; T_thr [-]</p></li><li><p><code>a_cold</code>: a for T &lt; T_thr [-]</p></li><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolDesertDust.jl#L3-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AsianDust"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AsianDust"><code>CloudMicrophysics.Parameters.AsianDust</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AsianDust{FT}</code></pre><p>Parameters for Asian Dust</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolAsianDust.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.MiddleEasternDust"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.MiddleEasternDust"><code>CloudMicrophysics.Parameters.MiddleEasternDust</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MiddleEasternDust{FT}</code></pre><p>Parameters for Middle Eastern Dust</p><p><strong>Fields</strong></p><ul><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolMiddleEasternDust.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SaharanDust"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SaharanDust"><code>CloudMicrophysics.Parameters.SaharanDust</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SaharanDust{FT}</code></pre><p>Parameters for Saharan Dust</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolSaharanDust.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Illite"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Illite"><code>CloudMicrophysics.Parameters.Illite</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Illite{FT}</code></pre><p>Parameters for illite from Knopf and Alpert 2013 DOI: 10.1039/C3FD00035D</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolIllite.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Kaolinite"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Kaolinite"><code>CloudMicrophysics.Parameters.Kaolinite</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Kaolinite{FT}</code></pre><p>Parameters for kaolinite from Knopf and Alpert 2013 DOI: 10.1039/C3FD00035D and China et al 2017 DOI: 10.1002/2016JD025817</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolKaolinite.jl#L3-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Feldspar"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Feldspar"><code>CloudMicrophysics.Parameters.Feldspar</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Feldspar{FT}</code></pre><p>Parameters for Feldspar from Alpert et al 2022 DOI: 10.1039/D1EA00077B</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolFeldspar.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Ferrihydrite"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Ferrihydrite"><code>CloudMicrophysics.Parameters.Ferrihydrite</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Ferrihydrite{FT}</code></pre><p>Parameters for Ferrihydrite from Alpert et al 2022 DOI: 10.1039/D1EA00077B</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolFerrihydrite.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Dust"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Dust"><code>CloudMicrophysics.Parameters.Dust</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Dust{FT}</code></pre><p>Parameters for generic dust.</p><p><strong>Fields</strong></p><ul><li><p><code>deposition_m</code>: m coefficient for deposition nucleation J [-]</p></li><li><p><code>deposition_c</code>: c coefficient for deposition nucleation J [-]</p></li><li><p><code>ABIFM_m</code>: m coefficient for immersion freezing J [-]</p></li><li><p><code>ABIFM_c</code>: c coefficient for immersion freezing J [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolDust.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Seasalt"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Seasalt"><code>CloudMicrophysics.Parameters.Seasalt</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Seasalt{FT}</code></pre><p>Parameters for seasalt</p><p><strong>Fields</strong></p><ul><li><p><code>M</code>: molar mass [kg/mol]</p></li><li><p><code>ρ</code>: density [kg/m3]</p></li><li><p><code>ϕ</code>: osmotic coefficient [-]</p></li><li><p><code>ν</code>: ion number [-]</p></li><li><p><code>ϵ</code>: water soluble mass fraction [-]</p></li><li><p><code>κ</code>: hygroscopicity parameter [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolSeasalt.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Sulfate"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Sulfate"><code>CloudMicrophysics.Parameters.Sulfate</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Sulfate{FT}</code></pre><p>Parameters for sulfate aerosol</p><p><strong>Fields</strong></p><ul><li><p><code>M</code>: molar mass [kg/mol]</p></li><li><p><code>ρ</code>: density [kg/m3]</p></li><li><p><code>ϕ</code>: osmotic coefficient [-]</p></li><li><p><code>ν</code>: ion number [-]</p></li><li><p><code>ϵ</code>: water soluble mass fraction [-]</p></li><li><p><code>κ</code>: hygroscopicity parameter [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolSulfate.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AerosolActivationParameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AerosolActivationParameters"><code>CloudMicrophysics.Parameters.AerosolActivationParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AerosolActivationParameters{FT}</code></pre><p>Parameters for Abdul-Razzak and Ghan 2000 aerosol activation scheme DOI: 10.1029/1999JD901161</p><p><strong>Fields</strong></p><ul><li><p><code>M_w</code>: molar mass of water [kg/mol]</p></li><li><p><code>R</code>: gas constant [J/mol/K]</p></li><li><p><code>ρ_w</code>: cloud water density [kg/m3]</p></li><li><p><code>ρ_i</code>: cloud ice density [kg/m3]</p></li><li><p><code>σ</code>: surface tension of water [N/m]</p></li><li><p><code>g</code>: gravitational_acceleration [m/s2]</p></li><li><p><code>f1</code>: scaling coefficient in Abdul-Razzak and Ghan 2000 [-]</p></li><li><p><code>f2</code>: scaling coefficient in Abdul-Razzak and Ghan 2000 [-]</p></li><li><p><code>g1</code>: scaling coefficient in Abdul-Razzak and Ghan 2000 [-]</p></li><li><p><code>g2</code>: scaling coefficient in Abdul-Razzak and Ghan 2000 [-]</p></li><li><p><code>p1</code>: power of (zeta / eta) in Abdul-Razzak and Ghan 2000 [-]</p></li><li><p><code>p2</code>: power of (S_m^2 / (zeta + 3 * eta)) in Abdul-Razzak and Ghan 2000 [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolActivation.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.IceNucleationParameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.IceNucleationParameters"><code>CloudMicrophysics.Parameters.IceNucleationParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">IceNucleationParameters{FT, DEP, HOM, P3_type}</code></pre><p>Parameters for ice nucleation</p><p><strong>Fields</strong></p><ul><li><p><code>deposition</code></p></li><li><p><code>homogeneous</code></p></li><li><p><code>p3</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/IceNucleation.jl#L112-L119">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Frostenberg2023"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Frostenberg2023"><code>CloudMicrophysics.Parameters.Frostenberg2023</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Frostenberg2023{FT}</code></pre><p>Parameters for frequency distribution of INP concentration DOI: 10.5194/acp-23-10883-2023</p><p><strong>Fields</strong></p><ul><li><p><code>σ</code>: standard deviation</p></li><li><p><code>a</code>: coefficient</p></li><li><p><code>b</code>: coefficient</p></li><li><p><code>T_freeze</code>: freezing temperature [K]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/IceNucleation.jl#L145-L153">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.H2SO4SolutionParameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.H2SO4SolutionParameters"><code>CloudMicrophysics.Parameters.H2SO4SolutionParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">H2SO4SolutionParameters{FT}</code></pre><p>Parameters for water activity of H2SO4 solutions from Luo et al 1995. DOI: 10.1029/94GL02988</p><p><strong>Fields</strong></p><ul><li><p><code>T_max</code>: max temperature for which the parameterization is valid [K]</p></li><li><p><code>T_min</code>: min temperature for which the parameterization is valid [K]</p></li><li><p><code>w_2</code>: coefficient [-]</p></li><li><p><code>c1</code>: coefficient [-]</p></li><li><p><code>c2</code>: coefficient [-]</p></li><li><p><code>c3</code>: coefficient [-]</p></li><li><p><code>c4</code>: coefficient [-]</p></li><li><p><code>c5</code>: coefficient [-]</p></li><li><p><code>c6</code>: coefficient [-]</p></li><li><p><code>c7</code>: coefficient [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Aerosol_H2SO4_Solution.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Mohler2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Mohler2006"><code>CloudMicrophysics.Parameters.Mohler2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Mohler2006{FT}</code></pre><p>Parameters for ice nucleation from Mohler et al 2006 DOI: 10.5194/acp-6-3007-2006</p><p><strong>Fields</strong></p><ul><li><p><code>Sᵢ_max</code>: max allowed supersaturation [-]</p></li><li><p><code>T_thr</code>: threshold temperature [K]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/IceNucleation.jl#L4-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Koop2000"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Koop2000"><code>CloudMicrophysics.Parameters.Koop2000</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Koop2000{FT}</code></pre><p>Parameters for ice nucleation from Koop et al 2000 DOI: 10.1038/35020537</p><p><strong>Fields</strong></p><ul><li><p><code>Δa_w_min</code>: min Δaw [-]</p></li><li><p><code>Δa_w_max</code>: max Δaw [-]</p></li><li><p><code>c₁</code>: coefficient [-]</p></li><li><p><code>c₂</code>: coefficient [-]</p></li><li><p><code>c₃</code>: coefficient [-]</p></li><li><p><code>c₄</code>: coefficient [-]</p></li><li><p><code>linear_c₁</code>: coefficient [-]</p></li><li><p><code>linear_c₂</code>: coefficient [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/IceNucleation.jl#L30-L38">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.H2S04NucleationParameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.H2S04NucleationParameters"><code>CloudMicrophysics.Parameters.H2S04NucleationParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">H2S04NucleationParameters{FT}</code></pre><p>Parameters for pure sulfuric acid nucleation from Dunne et al 1016 DOI:10.1126/science.aaf2649</p><p><strong>Fields</strong></p><ul><li><p><code>p_b_n</code></p></li><li><p><code>p_b_i</code></p></li><li><p><code>u_b_n</code></p></li><li><p><code>u_b_i</code></p></li><li><p><code>v_b_n</code></p></li><li><p><code>v_b_i</code></p></li><li><p><code>w_b_n</code></p></li><li><p><code>w_b_i</code></p></li><li><p><code>p_t_n</code></p></li><li><p><code>p_t_i</code></p></li><li><p><code>u_t_n</code></p></li><li><p><code>u_t_i</code></p></li><li><p><code>v_t_n</code></p></li><li><p><code>v_t_i</code></p></li><li><p><code>w_t_n</code></p></li><li><p><code>w_t_i</code></p></li><li><p><code>p_A_n</code></p></li><li><p><code>p_A_i</code></p></li><li><p><code>a_n</code></p></li><li><p><code>a_i</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolModalNucleation.jl#L4-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.OrganicNucleationParameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.OrganicNucleationParameters"><code>CloudMicrophysics.Parameters.OrganicNucleationParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>OrganicNucleationParameters{FT}</p><p>Parameters for pure organic nucleation from Kirkby 2016 DOI: 10.1038/nature17953</p><p><strong>Fields</strong></p><ul><li><p><code>a_1</code></p></li><li><p><code>a_2</code></p></li><li><p><code>a_3</code></p></li><li><p><code>a_4</code></p></li><li><p><code>a_5</code></p></li><li><p><code>Y_MTO3</code></p></li><li><p><code>Y_MTOH</code></p></li><li><p><code>k_MTO3</code></p></li><li><p><code>k_MTOH</code></p></li><li><p><code>exp_MTO3</code></p></li><li><p><code>exp_MTOH</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolModalNucleation.jl#L68-L76">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.MixedNucleationParameters"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.MixedNucleationParameters"><code>CloudMicrophysics.Parameters.MixedNucleationParameters</code></a> — <span class="docstring-category">Type</span></summary><section><div><p>MixedNucleationParameters{FT}</p><p>Parameters for mixed organic and sulfuric acid nucleation from Riccobono et al 2014 DOI:10.1126/science.1243527</p><p><strong>Fields</strong></p><ul><li><p><code>k_H2SO4org</code></p></li><li><p><code>k_MTOH</code></p></li><li><p><code>exp_MTOH</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/AerosolModalNucleation.jl#L113-L121">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Parameters0M"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Parameters0M"><code>CloudMicrophysics.Parameters.Parameters0M</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Parameters0M{FT}</code></pre><p>Parameters for zero-moment bulk microphysics scheme</p><p><strong>Fields</strong></p><ul><li><p><code>τ_precip</code>: precipitation timescale [s]</p></li><li><p><code>qc_0</code>: condensate specific content precipitation threshold [-]</p></li><li><p><code>S_0</code>: supersaturation precipitation threshold [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics0M.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParticlePDFSnow"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParticlePDFSnow"><code>CloudMicrophysics.Parameters.ParticlePDFSnow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ParticlePDFSnow{FT}</code></pre><p>A struct with snow size distribution parameters</p><p><strong>Fields</strong></p><ul><li><p><code>μ</code>: snow size distribution coefficient [1/m4]</p></li><li><p><code>ν</code>: snow size distribution coefficient [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParticlePDFIceRain"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParticlePDFIceRain"><code>CloudMicrophysics.Parameters.ParticlePDFIceRain</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ParticlePDFIceRain{FT}</code></pre><p>A struct with snow size distribution parameters</p><p><strong>Fields</strong></p><ul><li><code>n0</code>: Size distribution coefficient [1/m4]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L18-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParticleMass"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParticleMass"><code>CloudMicrophysics.Parameters.ParticleMass</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ParticleMass{FT}</code></pre><p>A struct with coefficients of the assumed mass(size) relationship for particles</p><p>m(r) = m0 χm (r/r0)^(me + Δm)</p><p><strong>Fields</strong></p><ul><li><p><code>r0</code>: particle length scale [m]</p></li><li><p><code>m0</code>: mass size relation coefficient [kg]</p></li><li><p><code>me</code>: mass size relation coefficient [-]</p></li><li><p><code>Δm</code>: mass size relation coefficient [-]</p></li><li><p><code>χm</code>: mass size relation coefficient [-]</p></li><li><p><code>gamma_coeff</code>: pre-computed gamma(me + Δm + 1) for performance [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L31-L40">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.ParticleArea"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.ParticleArea"><code>CloudMicrophysics.Parameters.ParticleArea</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ParticleArea{FT}</code></pre><p>A struct with coefficients of the assumed cross<em>section</em>area(size) relationship for particles</p><p>a(r) = a0 χa (r/r0)^(ae + Δa)</p><p><strong>Fields</strong></p><ul><li><p><code>a0</code>: cross section size relation coefficient [m2]</p></li><li><p><code>ae</code>: cross section size relation coefficient [-]</p></li><li><p><code>Δa</code>: cross section size relation coefficient [-]</p></li><li><p><code>χa</code>: cross section size relation coefficient [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L56-L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SnowAspectRatio"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SnowAspectRatio"><code>CloudMicrophysics.Parameters.SnowAspectRatio</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SnowAspectRatio{FT}</code></pre><p>A struct with aspect ratio coefficients</p><p><strong>Fields</strong></p><ul><li><p><code>ϕ</code>: aspect ratio [-]</p></li><li><p><code>κ</code>: power law coefficient in terminal velocity parameterization from Chen et al 2022 [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L93-L100">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Ventilation"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Ventilation"><code>CloudMicrophysics.Parameters.Ventilation</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Ventilation{FT}</code></pre><p>A struct with ventilation coefficients</p><p><strong>Fields</strong></p><ul><li><p><code>a</code>: ventilation coefficient <code>a</code> [-]</p></li><li><p><code>b</code>: ventilation coefficient <code>b</code> [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L78-L85">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Acnv1M"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Acnv1M"><code>CloudMicrophysics.Parameters.Acnv1M</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Acnv1M{FT}</code></pre><p>A struct with autoconversion parameters</p><p><strong>Fields</strong></p><ul><li><p><code>τ</code>: autoconversion timescale [s]</p></li><li><p><code>q_threshold</code>: condensate specific content autoconversion threshold [-]</p></li><li><p><code>k</code>: threshold smooth transition steepness [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L108-L115">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.CloudLiquid"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.CloudLiquid"><code>CloudMicrophysics.Parameters.CloudLiquid</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CloudLiquid{FT}</code></pre><p>The parameters and type for cloud liquid water condensate</p><p><strong>Fields</strong></p><ul><li><p><code>τ_relax</code>: condensation evaporation non_equil microphysics relaxation timescale [s]</p></li><li><p><code>ρw</code>: water density [kg/m3]</p></li><li><p><code>r_eff</code>: effective radius [m]</p></li><li><p><code>N_0</code>: assumed number concentration for cloud sedimentation [1/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L125-L132">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.CloudIce"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.CloudIce"><code>CloudMicrophysics.Parameters.CloudIce</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CloudIce{FT, MS}</code></pre><p>The parameters and type for cloud ice condensate</p><p><strong>Fields</strong></p><ul><li><p><code>pdf</code>: a struct with size distribution parameters</p></li><li><p><code>mass</code>: a struct with mass size relation parameters</p></li><li><p><code>r0</code>: particle length scale [m]</p></li><li><p><code>r_ice_snow</code>: ice snow threshold radius [m]</p></li><li><p><code>τ_relax</code>: deposition sublimation non_equil microphysics relaxation timescale [s]</p></li><li><p><code>ρᵢ</code>: cloud ice apparent density [kg/m3]</p></li><li><p><code>r_eff</code>: effective radius [m]</p></li><li><p><code>N_0</code>: assumed number concentration for cloud sedimentation [1/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L160-L167">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Rain"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Rain"><code>CloudMicrophysics.Parameters.Rain</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Rain{FT, MS, AR, VT, AC}</code></pre><p>The parameters and type for rain</p><p><strong>Fields</strong></p><ul><li><p><code>pdf</code>: a struct with size distribution parameters</p></li><li><p><code>mass</code>: a struct with mass size relation parameters</p></li><li><p><code>area</code>: a struct with cross section size relation parameers</p></li><li><p><code>vent</code>: a struct with ventilation coefficients</p></li><li><p><code>acnv1M</code>: a struct with cloud water to rain autoconversion parameters</p></li><li><p><code>r0</code>: particle length scale [m]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L234-L241">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Snow"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Snow"><code>CloudMicrophysics.Parameters.Snow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Snow{FT, PD, MS, AR, VT, AP, AC}</code></pre><p>The parameters and type for snow</p><p><strong>Fields</strong></p><ul><li><p><code>pdf</code>: a struct with size distribution parameters</p></li><li><p><code>mass</code>: a struct with mass size relation parameters</p></li><li><p><code>area</code>: a struct with cross section size relation parameers</p></li><li><p><code>vent</code>: a struct with ventilation coefficients</p></li><li><p><code>aspr</code>: a struct with aspect ratio parameters</p></li><li><p><code>acnv1M</code>: a struct with ice to snow autoconversion parameters</p></li><li><p><code>r0</code>: particle length scale [m]</p></li><li><p><code>T_freeze</code>: freezing temperature of water [K]</p></li><li><p><code>ρᵢ</code>: snow apparent density [kg/m3]</p></li><li><p><code>gamma_aspect_oblate</code>: pre-computed gamma(α+4)/6 for oblate aspect ratio [-]</p></li><li><p><code>gamma_aspect_prolate</code>: pre-computed gamma(α+4)/6 for prolate aspect ratio [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L318-L325">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.CollisionEff"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.CollisionEff"><code>CloudMicrophysics.Parameters.CollisionEff</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CollisionEff{FT}</code></pre><p>Collision efficiency parameters for the 1-moment scheme</p><p><strong>Fields</strong></p><ul><li><p><code>e_lcl_rai</code>: cloud liquid-rain collision efficiency [-]</p></li><li><p><code>e_lcl_sno</code>: cloud liquid-snow collision efficiency [-]</p></li><li><p><code>e_icl_rai</code>: cloud ice-rain collision efficiency [-]</p></li><li><p><code>e_icl_sno</code>: cloud ice-snow collision efficiency [-]</p></li><li><p><code>e_rai_sno</code>: rain-snow collision efficiency [-]</p></li><li><p><code>coeff_disp</code>: rain-snow velocity dispersion coefficient [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics1M.jl#L437-L444">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.KK2000"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.KK2000"><code>CloudMicrophysics.Parameters.KK2000</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">KK2000</code></pre><p>The type and parameters for 2-moment precipitation formation by Khairoutdinov and Kogan (2000)</p><p>DOI:10.1175/1520-0493(2000)128&lt;0229:ANCPPI&gt;2.0.CO;2</p><p><strong>Fields</strong></p><ul><li><p><code>acnv</code>: Autoconversion parameters</p></li><li><p><code>accr</code>: Accretion parameters</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L62-L72">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AcnvKK2000"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AcnvKK2000"><code>CloudMicrophysics.Parameters.AcnvKK2000</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AcnvKK2000</code></pre><p>Khairoutdinov and Kogan (2000) autoconversion parameters</p><p><strong>Fields</strong></p><ul><li><p><code>A</code>: Autoconversion coefficient A</p></li><li><p><code>a</code>: Autoconversion coefficient a</p></li><li><p><code>b</code>: Autoconversion coefficient b</p></li><li><p><code>c</code>: Autoconversion coefficient c</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L3-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AccrKK2000"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AccrKK2000"><code>CloudMicrophysics.Parameters.AccrKK2000</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AccrKK2000</code></pre><p>Khairoutdinov and Kogan (2000) accretion parameters</p><p><strong>Fields</strong></p><ul><li><p><code>A</code>: Accretion coefficient A</p></li><li><p><code>a</code>: Accretion coefficient a</p></li><li><p><code>b</code>: Accretion coefficient b</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L34-L41">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.B1994"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.B1994"><code>CloudMicrophysics.Parameters.B1994</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">B1994</code></pre><p>The type and parameter for 2-moment precipitation formation by Beheng (1994) DOI: 10.1016/0169-8095(94)90020-5</p><p><strong>Fields</strong></p><ul><li><p><code>acnv</code>: Autoconversion coeff C</p></li><li><p><code>accr</code>: Autoconversion coeff a</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L156-L164">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AcnvB1994"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AcnvB1994"><code>CloudMicrophysics.Parameters.AcnvB1994</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AcnvB1994</code></pre><p>Beheng (1994) autoconversion parameters</p><p><strong>Fields</strong></p><ul><li><p><code>C</code>: Autoconversion coeff C</p></li><li><p><code>a</code>: Autoconversion coeff a</p></li><li><p><code>b</code>: Autoconversion coeff b</p></li><li><p><code>c</code>: Autoconversion coeff c</p></li><li><p><code>N_0</code>: Autoconversion coeff N_0</p></li><li><p><code>d_low</code>: Autoconversion coeff d_low</p></li><li><p><code>d_high</code>: Autoconversion coeff d_high</p></li><li><p><code>k</code>: Threshold for smooth tranistion steepness</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L90-L97">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AccrB1994"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AccrB1994"><code>CloudMicrophysics.Parameters.AccrB1994</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AccrB1994</code></pre><p>Beheng (1994) accretion parameters</p><p><strong>Fields</strong></p><ul><li><code>A</code>: Accretion coefficient A</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L133-L140">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.TC1980"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.TC1980"><code>CloudMicrophysics.Parameters.TC1980</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TC1980</code></pre><p>The type and parameters for 2-moment precipitation formation by Tripoli and Cotton (1980)</p><p>DOI: 10.1175/1520-0450(1980)019&lt;1037:ANIOSF&gt;2.0.CO;2</p><p><strong>Fields</strong></p><ul><li><p><code>acnv</code>: Autoconversion parameters</p></li><li><p><code>accr</code>: Accretion parameters</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L246-L256">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AcnvTC1980"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AcnvTC1980"><code>CloudMicrophysics.Parameters.AcnvTC1980</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AcnvTC1980</code></pre><p>Tripoli and Cotton (1980) autoconversion parameters</p><p><strong>Fields</strong></p><ul><li><p><code>a</code>: Autoconversion coefficient a</p></li><li><p><code>b</code>: Autoconversion coefficient b</p></li><li><p><code>D</code>: Autoconversion coefficient D</p></li><li><p><code>r_0</code>: Autoconversion coefficient r_0</p></li><li><p><code>me_liq</code>: Autoconversion coefficient me_liq</p></li><li><p><code>m0_liq_coeff</code>: Autoconversion coefficient m0<em>liq</em>coeff</p></li><li><p><code>k</code>: Threshold for smooth tranistion steepness</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L181-L188">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AccrTC1980"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AccrTC1980"><code>CloudMicrophysics.Parameters.AccrTC1980</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AccrTC1980</code></pre><p>Tripoli and Cotton (1980) accretion parameters</p><p><strong>Fields</strong></p><ul><li><code>A</code>: Accretion coefficient A</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L223-L230">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.LD2004"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.LD2004"><code>CloudMicrophysics.Parameters.LD2004</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LD2004</code></pre><p>The type and parameters for 2-moment precipitation formation by Liu and Daum (2004)</p><p>DOI: 10.1175/1520-0469(2004)061&lt;1539:POTAPI&gt;2.0.CO;2</p><p><strong>Fields</strong></p><ul><li><p><code>R_6C_0</code>: Autoconversion coefficient R<em>6C</em>0</p></li><li><p><code>E_0</code>: Autoconversion coefficient E_0</p></li><li><p><code>ρ_w</code>: liquid water density [kg/m3]</p></li><li><p><code>k</code>: Threshold for smooth tranistion steepness</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L273-L283">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.VarTimescaleAcnv"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.VarTimescaleAcnv"><code>CloudMicrophysics.Parameters.VarTimescaleAcnv</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">VarTimescaleAcnv</code></pre><p>The type for 2-moment precipitation formation based on the 1-moment parameterization with variable time scale Azimi et al (2023)</p><p><strong>Fields</strong></p><ul><li><p><code>τ</code>: Timescale [s]</p></li><li><p><code>α</code>: Powerlaw coefficient [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L309-L317">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SB2006"><code>CloudMicrophysics.Parameters.SB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SB2006</code></pre><p>The type and parameters for 2-moment precipitation formation by Seifert and Beheng (2006). The pdf_r type choses between running with or without limiters on raindrop size distribution parameters</p><p>DOI: 10.1007/s00703-005-0112-4</p><p><strong>Fields</strong></p><ul><li><p><code>pdf_c</code>: Cloud particle size distribution parameters</p></li><li><p><code>pdf_r</code>: Rain particle size distribution parameters</p></li><li><p><code>acnv</code>: Autoconversion parameters</p></li><li><p><code>accr</code>: Accretion parameters</p></li><li><p><code>self</code>: Rain selfcollection parameters</p></li><li><p><code>brek</code>: Rain breakup parameters</p></li><li><p><code>evap</code>: Rain evaporation parameters</p></li><li><p><code>numadj</code>: Number concentration adjustment parameter</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L656-L667">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006"><code>CloudMicrophysics.Parameters.RainParticlePDF_SB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">RainParticlePDF_SB2006</code></pre><p>Abstract type for the size distribution parameters of rain particles</p><p>See <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006_limited"><code>RainParticlePDF_SB2006_limited</code></a> and <a href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006_notlimited"><code>RainParticlePDF_SB2006_notlimited</code></a> for the concrete types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L338-L345">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.RainParticlePDF_SB2006_limited"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006_limited"><code>CloudMicrophysics.Parameters.RainParticlePDF_SB2006_limited</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">RainParticlePDF_SB2006_limited</code></pre><p>Rain size distribution parameters from SB2006 including the limiters on drop maximum mass and the size distribution coefficinets N0 and lambda</p><p><strong>Fields</strong></p><ul><li><p><code>νr</code>: Raindrop size distribution coefficient νr</p></li><li><p><code>μr</code>: Raindrop size distribution coefficient μr</p></li><li><p><code>xr_min</code>: Raindrop minimal mass</p></li><li><p><code>xr_max</code>: Raindrop maximum mass</p></li><li><p><code>N0_min</code>: Raindrop size distribution coefficient N0 min</p></li><li><p><code>N0_max</code>: Raindrop size distribution coefficient N0 max</p></li><li><p><code>λ_min</code>: Raindrop size distribution coefficient lambda min</p></li><li><p><code>λ_max</code>: Raindrop size distribution coefficient lambda max</p></li><li><p><code>ρw</code>: Cloud liquid water density [kg/m3]</p></li><li><p><code>ρ0</code>: Reference air density [kg/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L348-L356">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.RainParticlePDF_SB2006_notlimited"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.RainParticlePDF_SB2006_notlimited"><code>CloudMicrophysics.Parameters.RainParticlePDF_SB2006_notlimited</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">RainParticlePDF_SB2006</code></pre><p>Rain size distribution parameters from SB2006 but without the limiters</p><p><strong>Fields</strong></p><ul><li><p><code>νr</code>: Raindrop size distribution coefficient νr</p></li><li><p><code>μr</code>: Raindrop size distribution coefficient μr</p></li><li><p><code>xr_min</code>: Raindrop minimum mass</p></li><li><p><code>xr_max</code>: Raindrop maximum mass</p></li><li><p><code>ρw</code>: Cloud liquid water density [kg/m3]</p></li><li><p><code>ρ0</code>: Reference air density [kg/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L398-L405">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.CloudParticlePDF_SB2006"><code>CloudMicrophysics.Parameters.CloudParticlePDF_SB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CloudParticlePDF_SB2006</code></pre><p>Cloud droplets size distribution parameters from SB2006</p><p><strong>Fields</strong></p><ul><li><p><code>νc</code>: Cloud droplet size distribution coefficient νc</p></li><li><p><code>μc</code>: Cloud droplet size distribution coefficient μc</p></li><li><p><code>xc_min</code>: Cloud droplets minimum mass</p></li><li><p><code>xc_max</code>: Cloud droplets maximum mass</p></li><li><p><code>ρw</code>: Cloud liquid water density [kg/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L438-L445">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AcnvSB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AcnvSB2006"><code>CloudMicrophysics.Parameters.AcnvSB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AcnvSB2006</code></pre><p>Autoconversion parameters from SB2006</p><p><strong>Fields</strong></p><ul><li><p><code>kcc</code>: Collection kernel coefficient</p></li><li><p><code>x_star</code>: Minimum mass of rain droplets</p></li><li><p><code>ρ0</code>: Reference air density [kg/m3]</p></li><li><p><code>A</code>: Autoconversion correcting function coeff A</p></li><li><p><code>a</code>: Autoconversion correcting function coeff a</p></li><li><p><code>b</code>: Autoconversion correcting function coeff b</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L472-L479">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.AccrSB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.AccrSB2006"><code>CloudMicrophysics.Parameters.AccrSB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AccrSB2006</code></pre><p>Accretion parameters from SB2006</p><p><strong>Fields</strong></p><ul><li><p><code>kcr</code>: Collection kernel coefficient Kcr</p></li><li><p><code>τ0</code>: Accretion correcting function coefficient τ_0</p></li><li><p><code>ρ0</code>: Reference air density [kg/m3]</p></li><li><p><code>c</code>: Accretion correcting function coefficient c</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L510-L517">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SelfColSB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SelfColSB2006"><code>CloudMicrophysics.Parameters.SelfColSB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SelfColSB2006</code></pre><p>Rain selfcollection parameters from SB2006</p><p><strong>Fields</strong></p><ul><li><p><code>krr</code>: Collection kernel coefficient krr</p></li><li><p><code>κrr</code>: Collection kernel coefficient kappa rr</p></li><li><p><code>d</code>: Raindrop self collection coefficient d</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L541-L548">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.BreakupSB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.BreakupSB2006"><code>CloudMicrophysics.Parameters.BreakupSB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">BreakupSB2006</code></pre><p>Rain breakup parameters from SB2006</p><p><strong>Fields</strong></p><ul><li><p><code>Deq</code>: Raindrop equilibrium mean diamater</p></li><li><p><code>Dr_th</code>: Raindrop breakup mean diamater threshold</p></li><li><p><code>kbr</code>: Raindrops breakup coefficient kbr</p></li><li><p><code>κbr</code>: Raindrops breakup coefficient kappa br</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L569-L576">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.EvaporationSB2006"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.EvaporationSB2006"><code>CloudMicrophysics.Parameters.EvaporationSB2006</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">EvaporationSB2006</code></pre><p>Rain evaporation parameters from SB2006</p><p><strong>Fields</strong></p><ul><li><p><code>av</code>: Ventillation coefficient a</p></li><li><p><code>bv</code>: Ventillation coefficient b</p></li><li><p><code>α</code>: Rain evapoartion coefficient α</p></li><li><p><code>β</code>: Rain evapoartion coefficient β</p></li><li><p><code>ρ0</code>: Reference air density [kg/m3]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L600-L607">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.NumberAdjustmentHorn2012"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.NumberAdjustmentHorn2012"><code>CloudMicrophysics.Parameters.NumberAdjustmentHorn2012</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NumberAdjustmentHorn2012</code></pre><p>Number concentration adjustment parameter from Horn (2012, DOI: 10.5194/gmd-5-345-2012)</p><p><strong>Fields</strong></p><ul><li><code>τ</code>: Number concentration adjustment timescale [s]</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/Microphysics2M.jl#L634-L641">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Blk1MVelType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Blk1MVelType"><code>CloudMicrophysics.Parameters.Blk1MVelType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Blk1MVelType</code></pre><p>The type for precipitation terminal velocity from the simple 1-moment scheme (defined for rain and snow)</p><p><strong>Fields</strong></p><ul><li><p><code>rain</code></p></li><li><p><code>snow</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L118-L126">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Blk1MVelTypeRain"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Blk1MVelTypeRain"><code>CloudMicrophysics.Parameters.Blk1MVelTypeRain</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Blk1MVelTypeRain</code></pre><p>The type for precipitation terminal velocity from the simple 1-moment scheme for rain</p><p><strong>Fields</strong></p><ul><li><p><code>r0</code>: particle length scale [m]</p></li><li><p><code>ve</code>: rain terminal velocity size relation coefficient [-]</p></li><li><p><code>Δv</code>: rain terminal velocity size relation coefficient [-]</p></li><li><p><code>χv</code>: rain terminal velocity size relation coefficient [-]</p></li><li><p><code>ρw</code>: cloud water density [kg/m3]</p></li><li><p><code>C_drag</code>: rain drop drag coefficient [-]</p></li><li><p><code>grav</code>: gravitational acceleration [m/s2]</p></li><li><p><code>gamma_vent</code>: pre-computed gamma((ve + Δv + 5) / 2) for ventilation [-]</p></li><li><p><code>gamma_term</code>: pre-computed gamma(me + ve + Δm + Δv + 1) for terminal velocity [-]</p></li><li><p><code>gamma_accr</code>: pre-computed gamma(ae + ve + Δa + Δv + 1) for accretion [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L3-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Blk1MVelTypeSnow"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Blk1MVelTypeSnow"><code>CloudMicrophysics.Parameters.Blk1MVelTypeSnow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Blk1MVelTypeSnow</code></pre><p>The type for precipitation terminal velocity from the simple 1-moment scheme for snow</p><p><strong>Fields</strong></p><ul><li><p><code>r0</code>: particle length scale [m]</p></li><li><p><code>ve</code>: snow terminal velocity size relation coefficient [-]</p></li><li><p><code>Δv</code>: snow terminal velocity size relation coefficient [-]</p></li><li><p><code>χv</code>: snow terminal velocity size relation coefficient [-]</p></li><li><p><code>v0</code>: snow terminal velocity size relation coefficient [m/s]</p></li><li><p><code>gamma_vent</code>: pre-computed gamma((ve + Δv + 5) / 2) for ventilation [-]</p></li><li><p><code>gamma_term</code>: pre-computed gamma(me + ve + Δm + Δv + 1) for terminal velocity [-]</p></li><li><p><code>gamma_accr</code>: pre-computed gamma(ae + ve + Δa + Δv + 1) for accretion [-]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L63-L71">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.StokesRegimeVelType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.StokesRegimeVelType"><code>CloudMicrophysics.Parameters.StokesRegimeVelType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">StokesRegimeVelType</code></pre><p>The type for precipitation terminal velocity in the Stokes regime (Re &lt; 1)</p><p><strong>Fields</strong></p><ul><li><p><code>ρw</code></p></li><li><p><code>ν_air</code></p></li><li><p><code>grav</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L142-L149">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.SB2006VelType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.SB2006VelType"><code>CloudMicrophysics.Parameters.SB2006VelType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SB2006VelType</code></pre><p>The type for precipitation terminal velocity from Seifert and Beheng 2006</p><p><strong>Fields</strong></p><ul><li><p><code>ρ0</code></p></li><li><p><code>aR</code></p></li><li><p><code>bR</code></p></li><li><p><code>cR</code></p></li><li><p><code>ρw</code></p></li><li><p><code>ν_air</code></p></li><li><p><code>grav</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L170-L177">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Chen2022VelType"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Chen2022VelType"><code>CloudMicrophysics.Parameters.Chen2022VelType</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Chen2022VelType</code></pre><p>The type for precipitation terminal velocity from Chen et al 2022 DOI: 10.1016/j.atmosres.2022.106171 (defined for rain, snow and cloud ice)</p><p><strong>Fields</strong></p><ul><li><p><code>rain</code></p></li><li><p><code>small_ice</code></p></li><li><p><code>large_ice</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L322-L331">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Chen2022VelTypeSmallIce"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Chen2022VelTypeSmallIce"><code>CloudMicrophysics.Parameters.Chen2022VelTypeSmallIce</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Chen2022VelTypeSmallIce</code></pre><p>The type for precipitation terminal velocity from Chen et al 2022 for small ice. See Table B3 for parameter definitions. DOI: 10.1016/j.atmosres.2022.106171</p><p><strong>Fields</strong></p><ul><li><p><code>A</code></p></li><li><p><code>B</code></p></li><li><p><code>C</code></p></li><li><p><code>E</code></p></li><li><p><code>F</code></p></li><li><p><code>G</code></p></li><li><p><code>cutoff</code>: cutoff for small vs large ice particle dimension [m]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L206-L214">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Chen2022VelTypeLargeIce"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Chen2022VelTypeLargeIce"><code>CloudMicrophysics.Parameters.Chen2022VelTypeLargeIce</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Chen2022VelTypeLargeIce</code></pre><p>The type for precipitation terminal velocity from Chen et al 2022 for large ice. See Table B4 for parameter definitions. DOI: 10.1016/j.atmosres.2022.106171</p><p><strong>Fields</strong></p><ul><li><p><code>A</code></p></li><li><p><code>B</code></p></li><li><p><code>C</code></p></li><li><p><code>E</code></p></li><li><p><code>F</code></p></li><li><p><code>G</code></p></li><li><p><code>H</code></p></li><li><p><code>cutoff</code>: cutoff for small vs large ice particle dimension [m]</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L244-L252">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.Parameters.Chen2022VelTypeRain"><a class="docstring-binding" href="#CloudMicrophysics.Parameters.Chen2022VelTypeRain"><code>CloudMicrophysics.Parameters.Chen2022VelTypeRain</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Chen2022VelTypeRain</code></pre><p>The type for precipitation terminal velocity from Chen et al 2022 for rain. See Table B1 for parameter definitions. DOI: 10.1016/j.atmosres.2022.106171</p><p><strong>Fields</strong></p><ul><li><p><code>ρ0</code></p></li><li><p><code>a</code></p></li><li><p><code>a3_pow</code></p></li><li><p><code>b</code></p></li><li><p><code>b_ρ</code></p></li><li><p><code>c</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/parameters/TerminalVelocity.jl#L284-L293">source</a></section></details></article><h1 id="Precipitation-susceptibility"><a class="docs-heading-anchor" href="#Precipitation-susceptibility">Precipitation susceptibility</a><a id="Precipitation-susceptibility-1"></a><a class="docs-heading-anchor-permalink" href="#Precipitation-susceptibility" title="Permalink"></a></h1><article><details class="docstring" open="true"><summary id="CloudMicrophysics.PrecipitationSusceptibility.precipitation_susceptibility_autoconversion"><a class="docstring-binding" href="#CloudMicrophysics.PrecipitationSusceptibility.precipitation_susceptibility_autoconversion"><code>CloudMicrophysics.PrecipitationSusceptibility.precipitation_susceptibility_autoconversion</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">precipitation_susceptibility_autoconversion(param_set, scheme, q_lcl, q_rai, ρ, N_lcl)</code></pre><ul><li><code>scheme</code> - type for 2-moment rain autoconversion parameterization</li><li><code>q_lcl</code> - cloud liquid water specific content</li><li><code>q_rai</code> - rain water specific content</li><li><code>ρ</code> - air density</li><li><code>N_lcl</code> - cloud droplet number density</li></ul><p>Returns the precipitation susceptibility rates due to autoconversion as a <code>precip_susceptibility_rates</code> object, using automatic differentiation. Works for any 2-moment scheme, as long as autoconversion is defined for it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/PrecipitationSusceptibility.jl#L23-L35">source</a></section></details></article><article><details class="docstring" open="true"><summary id="CloudMicrophysics.PrecipitationSusceptibility.precipitation_susceptibility_accretion"><a class="docstring-binding" href="#CloudMicrophysics.PrecipitationSusceptibility.precipitation_susceptibility_accretion"><code>CloudMicrophysics.PrecipitationSusceptibility.precipitation_susceptibility_accretion</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">precipitation_susceptibility_accretion(param_set, scheme, q_lcl, q_rai, ρ, N_lcl)</code></pre><ul><li><code>scheme</code> - type for 2-moment rain autoconversion parameterization</li><li><code>q_lcl</code> - cloud liquid water specific content</li><li><code>q_rai</code> - rain water specific content</li><li><code>ρ</code> - air density</li><li><code>N_lcl</code> - cloud droplet number density</li></ul><p>Returns the precipitation susceptibility rates due to accretion as a <code>precip_susceptibility_rates</code> object, using automatic differentiation. Works for any 2-moment scheme, as long as accretion is defined for it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/CliMA/CloudMicrophysics.jl/blob/4fd68ccbfabbad1aae9c10c2a9ffc4130e55b0c7/src/PrecipitationSusceptibility.jl#L57-L69">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../IceNucleationBox0D/">« Box Model</a><a class="docs-footer-nextpage" href="../DevelopersGuide/">Developer&#39;s Guide »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Friday 23 January 2026 19:26">Friday 23 January 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
